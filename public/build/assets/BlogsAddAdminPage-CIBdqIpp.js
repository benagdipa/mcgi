import{W as A,r as o,j as e,a as F,d as g}from"./app-DvV2G9XL.js";import{I as i}from"./InputLabel-C2Q7kjUb.js";import{T as j}from"./TextInput-CfoxdZn_.js";import{A as B}from"./AuthenticatedLayout-C1Zo0Xma.js";import{I as c}from"./InputError-T-Vm_F1Q.js";import{E}from"./Editor-Brmty5Ol.js";import"./index-CMr5S_b3.js";import"./index-Dut9w-yI.js";import"./Dropdown-DNQh2cyK.js";import"./transition-BBFW8IAZ.js";function G({auth:d,categories:u,tags:p}){const{data:t,setData:l,post:b,processing:R,errors:r,reset:D}=A({title:"",slug:"",content:"",categories:[],tags:[],featureImage:null,status:""}),x=o.useRef(null),[v,N]=o.useState(""),[L,w]=o.useState(""),h=o.useRef(null);o.useEffect(()=>{const a=(t==null?void 0:t.title).replace(/\s+/g,"-").toLowerCase();l("slug",a)},[t.title]);const k=s=>{h.current.click()},y=s=>{const a=URL.createObjectURL(s.target.files[0]);l("featureImage",s.target.files[0]),w(s.target.files[0].name),N(a)},f=(s,a)=>{const{value:n,checked:I}=a.target;if(I){const m=t[s];l(s,[...m,n])}else{const m=t[s].filter(S=>S!==n);l(s,m)}},C=s=>{s.preventDefault(),b(route("admin.blogs.store"))};return e.jsxs(B,{user:d==null?void 0:d.user,children:[e.jsx(F,{title:"Add New Blogs"}),e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsx("div",{className:"content-header px-6 flex justify-between items-center",children:e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Add New Blog"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(g,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(g,{href:route("admin.blogs.index"),children:"Blogs"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:"Add New Blog"})]})})]})}),e.jsx("div",{className:"page-content w-[95%] mx-auto lg:w-full pt-8",children:e.jsx("div",{className:"form-wrapper px-6",children:e.jsx("form",{onSubmit:C,children:e.jsxs("div",{className:"flex md:flex-row flex-col gap-12",children:[e.jsxs("div",{className:"md:w-9/12",children:[e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(i,{value:"Title",className:"mb-1 font-poppins font-semibold"}),e.jsx(j,{name:"title",value:t.title,onChange:s=>l("title",s.target.value),className:"w-full rounded-md font-poppins"}),e.jsx(c,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(i,{value:"Slug",className:"mb-1 font-poppins font-semibold"}),e.jsx(j,{name:"slug",value:t.slug,onChange:s=>l("slug",s.target.value),className:"w-full rounded-md font-poppins"}),e.jsx(c,{message:r.slug,className:"mt-2"})]}),e.jsxs("div",{className:"form-item",children:[e.jsx(i,{value:"Content",className:"mb-1 font-poppins font-semibold"}),e.jsxs("div",{className:"custom-ckeditor",style:{height:"400px"},children:[e.jsx(E,{apiKey:"h9mpgdcvlxaa94b8rwqpagapahot2x6w7urfs0dtyswd2qtj",onInit:(s,a)=>{x.current=a},onChange:()=>l("content",x.current.getContent()),initialValue:t.content,init:{height:800,menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","fullscreen","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | casechange blocks | bold italic backcolor | image | alignleft aligncenter alignright alignjustify | bullist numlist checklist outdent indent | removeformat | a11ycheck code table help",images_upload_url:"upload.php",automatic_uploads:!1}}),e.jsx(c,{message:r.content,className:"mt-2"})]})]})]}),e.jsx("div",{className:"md:w-3/12",children:e.jsxs("div",{className:"border rounded-md py-6 px-8",children:[e.jsx("div",{className:"form-item mb-6",children:e.jsxs("div",{className:"status",children:[e.jsx(i,{value:"Status",className:"mb-1 font-poppins font-semibold"}),e.jsxs("select",{name:"status",className:"w-full border-gray-300 rounded-md font-poppins focus:border-yellow-500 focus:ring-0",value:t.status,onChange:s=>l("status",s.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"publish",children:"Publish"})]}),e.jsx(c,{message:r.status,className:"mt-2"})]})}),e.jsx("div",{className:"form-item mb-6",children:e.jsxs("div",{className:"categories",children:[e.jsx(i,{value:"Categories",className:"mb-1 font-poppins font-semibold"}),e.jsx("div",{className:"categories-items border p-4 rounded",children:u.length>0&&u.map((s,a)=>e.jsx("div",{className:"",children:e.jsxs("label",{className:"pb-3 block",children:[e.jsx("input",{type:"checkbox",name:"categories[]",value:s.id,className:"rounded w-5 h-5",onChange:n=>f("categories",n)}),e.jsx("span",{className:"pl-2 font-poppins font-medium",children:s.title})]})},a))})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"tags",children:[e.jsx(i,{value:"Tags",className:"mb-1 font-poppins font-semibold"}),e.jsx("div",{className:"categories-items border p-4 rounded",children:p.length>0&&p.map((s,a)=>e.jsx("div",{className:"",children:e.jsxs("label",{className:"pb-3 block",children:[e.jsx("input",{type:"checkbox",name:"tags[]",value:s.id,className:"rounded w-5 h-5",onChange:n=>f("tags",n)}),e.jsx("span",{className:"pl-2 font-poppins font-medium",children:s.title})]})},a))})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"featured-image",children:[e.jsx(i,{value:"Featured Image",className:"mb-1 font-poppins font-semibold"}),e.jsxs("div",{className:"categories-items border p-4 rounded-md",children:[e.jsx("img",{src:v}),e.jsx("input",{type:"file",name:"featureImage",hidden:!0,onChange:y,ref:h,value:""}),e.jsx("a",{className:"bg-transparent cursor-pointer",onClick:k,children:"Set Featured Image"}),e.jsx(c,{message:r.featureImage,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-item",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 font-bold rounded font-poppins",children:"Submit"})})]})})]})})})})]})]})}export{G as default};
