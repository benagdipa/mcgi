import{q as B,r as c,W as U,j as e,a as q,d as o,R as H,y as f}from"./app-BbtY_rIe.js";import{I as O}from"./InputError-C3OjzIqp.js";import{I as V}from"./InputLabel-B9LP_WmE.js";import{M as j}from"./Modal-Jd0s4SbG.js";import{T as X}from"./TextInput-BN3SDsck.js";import{A as G,i as J}from"./AuthenticatedLayout-A-TCYLeL.js";import{r as t}from"./index-BlIPrx5E.js";import{I as K}from"./IconChevronUp-D1GQqXzq.js";import{a as P}from"./Dropdown-CSIx-c55.js";import{I as b}from"./IconX-CXBR3vOP.js";import"./transition-AS6wcR0G.js";import"./index-Cz5leWy5.js";function ce({auth:r,events:N,options:a}){const{role:g,permissions:v}=B().props.auth,y=["SN","Event Title","Start Date","End Date","Address","Status","Action"],m=N,[w,p]=c.useState(!1),[x,C]=c.useState(""),[E,i]=c.useState(!1),D=s=>{C(s),p(!0)},l=()=>{p(!1)},S=()=>{x&&f.delete(route("admin.events.delete",x),{onSuccess:()=>{l()}})},h=(s,d)=>{f.visit(route("admin.events.index",{sort:s,order:d}))},{data:A,setData:k,post:I,processing:T,errors:M,reset:_,delete:Q}=U({attend_duration:a!=null&&a.value?a==null?void 0:a.value:""}),W=s=>{s.preventDefault(),I(route("admin.events.settings"),{onSuccess:()=>{_(),i(!1)}})};return e.jsxs(G,{user:r==null?void 0:r.user,children:[e.jsx(q,{title:"Events"}),e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsxs("div",{className:"content-header px-6 flex justify-between items-center",children:[e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Events"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(o,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(o,{href:route("admin.events.index"),children:"Events"})})]})})]}),e.jsxs("div",{className:"right flex gap-3",children:[e.jsx(o,{href:route("admin.events.add"),className:"bg-[#f5cd06] shadow-lg text-[#0f0f0f] px-5 py-3 rounded-md font-semibold text-lg font-poppins",children:"Add New"}),e.jsx("button",{className:"bg-blue-500 shadow-lg px-5 py-[11px] rounded-md font-semibold text-lg font-poppins text-white",onClick:()=>i(!0),children:"Settings"})]})]}),e.jsx("div",{className:"page-content pt-8",children:e.jsx(t.Card,{className:"h-full w-full overflow-scroll rounded-none font-dmsans",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:y.map(s=>e.jsxs("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4 relative",children:[e.jsx(t.Typography,{className:"font-semibold text-lg leading-none opacity-70 font-poppins",children:s}),s==="Start Date"||s==="End Date"?e.jsxs(H.Fragment,{children:[e.jsx("span",{className:"absolute top-2 right-0 hover:bg-blue-gray-100 rounded-sm cursor-pointer",children:e.jsx(K,{size:18,strokeWidth:1.5,onClick:()=>{h(s.toLowerCase().replace(" ","_"),"asc")}})}),e.jsx("span",{className:"absolute bottom-2 right-0 hover:bg-blue-gray-100 rounded-sm cursor-pointer",children:e.jsx(P,{size:18,strokeWidth:1.5,onClick:()=>{h(s.toLowerCase().replace(" ","_"),"desc")}})})]}):null]},s))})}),e.jsx("tbody",{children:m.map(({id:s,title:d,status:L,start_date:z,end_date:R,address:F},u)=>{const n=u===m.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:n,children:e.jsx(t.Typography,{className:"font-medium font-poppins",children:u+1})}),e.jsx("td",{className:n,children:e.jsx(t.Typography,{className:"font-medium font-poppins",children:d})}),e.jsx("td",{className:n,children:e.jsx(t.Typography,{className:"font-medium font-poppins",children:z})}),e.jsx("td",{className:n,children:e.jsx(t.Typography,{className:"font-medium font-poppins",children:R})}),e.jsx("td",{className:n,children:e.jsx(t.Typography,{className:"font-medium font-poppins",children:F})}),e.jsx("td",{className:n,children:e.jsx(t.Typography,{className:"font-medium font-poppins capitalize",children:L})}),e.jsx("td",{className:n,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(o,{className:"px-0 text-sm font-medium font-poppins",href:route("admin.events.view",s),children:"View"}),e.jsx(o,{className:"px-0 text-sm font-medium font-poppins",href:route("admin.events.edit",s),children:"Edit"}),J(v,["delete_events"],g)&&e.jsx("button",{className:"text-red-500 px-0 text-sm font-medium font-poppins",onClick:()=>{D(s)},children:"Delete"})]})})]},s)})})]})})})]}),e.jsx(j,{show:w,onClose:l,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsx("h1",{className:"font-bold text-3xl text-center",children:"Are you sure ?"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(b,{strokeWidth:1.5,size:38,onClick:l})}),e.jsxs("div",{className:"flex justify-center gap-2 pt-6",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-3 font-semibold rounded",onClick:l,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-3 font-semibold rounded",onClick:S,children:"Confirm"})]})]})}),e.jsx(j,{show:E,onClose:l,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsxs("div",{className:"modal-header relative",children:[e.jsx("h1",{className:"font-bold text-2xl font-poppins",children:"Events Settings"}),e.jsx("div",{className:"absolute -top-14 -right-14 text-white cursor-pointer",children:e.jsx(b,{strokeWidth:1.5,size:38,onClick:()=>{i(!1)}})})]}),e.jsx("div",{className:"modal-content pt-6",children:e.jsxs("form",{onSubmit:W,children:[e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(V,{value:"Enter Attend button Appering Duration (in Minutes)",className:"mb-1 font-poppins font-semibold"}),e.jsx(X,{id:"title",type:"text",name:"title",className:"w-full rounded-md font-poppins",placeholder:"Enter duration...",onChange:s=>k("attend_duration",s.target.value),value:A.attend_duration}),e.jsx(O,{message:M.attend_duration,className:"mt-2"})]}),e.jsx("div",{className:"font-item mb-4 text-right",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 font-poppins rounded-sm font-bold",disabled:T,children:"Submit"})})]})})]})})]})}export{ce as default};
