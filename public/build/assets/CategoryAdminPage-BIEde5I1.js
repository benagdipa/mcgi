import{r,W as O,j as e,a as X}from"./app-Dery4aoQ.js";import{A as q,r as t}from"./AuthenticatedLayout-Bo0O5ldB.js";import{M as E}from"./Modal-CTdkb_b0.js";import{I as m}from"./InputLabel-CQbQBgR7.js";import{T as M,I as u}from"./TextInput-DwWTebPZ.js";import{I as k}from"./IconX-BqQzVCml.js";import"./Dropdown-DMRiJ_Ud.js";import"./transition-DmhJB7Ot.js";function ee({auth:x,categories:b}){const I=["SN","Category Title","Slug","Description","Status","Action"],y=b,[W,d]=r.useState(!1),[_,N]=r.useState(!1),[h,v]=r.useState(""),[L,C]=r.useState(""),[p,w]=r.useState(""),{data:n,setData:l,post:S,processing:z,errors:i,reset:T,delete:B}=O({title:"",slug:"",description:"",status:""}),F=s=>{s.preventDefault(),p==="_add"?S(route("admin.blogs.categories.store"),{preserveScroll:!0,onSuccess:()=>{T(),d(!1)}}):p==="_edit"&&S(route("admin.blogs.categories.update",h),{onSuccess:()=>{T(),d(!1)}})},A=(s,o=0)=>{if(o!==0&&v(o),s==="add")C("Add New"),w("_add");else if(s==="edit"){const f=b.filter(g=>g.id===o);l({...f[0]}),C("Edit"),w("_edit")}d(!0)},D=s=>{d(!1)},P=s=>{v(s),N(!0)},c=()=>{N(!1)},R=()=>{h&&B(route("admin.blogs.categories.delete",h),{onSuccess:()=>{c()}})};return e.jsxs(q,{user:x==null?void 0:x.user,children:[e.jsx(X,{title:"Categories"}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"p-6 flex justify-between",children:[e.jsx("h1",{className:"font-bold font-xl",children:"Categories"}),e.jsx("button",{onClick:()=>{A("add")},children:"Add New"})]}),e.jsx(t.Card,{className:"h-full w-full overflow-scroll rounded-none",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:I.map(s=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"leading-none opacity-70 font-dmsans text-lg font-bold",children:s})},s))})}),e.jsx("tbody",{children:y.map(({id:s,title:o,slug:f,description:g,status:H},j)=>{const a=j===y.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:a,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:j+1})}),e.jsx("td",{className:a,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:o})}),e.jsx("td",{className:a,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:f})}),e.jsx("td",{className:a,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:g})}),e.jsx("td",{className:a,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:H})}),e.jsx("td",{className:a,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t.Typography,{as:"button",variant:"small",color:"blue-gray",className:"font-medium",onClick:()=>{A("edit",s)},children:"Edit"}),e.jsx("button",{className:"text-red-500 text-sm font-medium",onClick:()=>{P(s)},children:"Delete"})]})})]},j)})})]})})]}),e.jsx(E,{show:W,onClose:D,maxWidth:"2xl",children:e.jsxs("div",{className:"add-modal px-6 py-4",children:[e.jsxs("div",{className:"modal-header relative",children:[e.jsxs("h1",{className:"font-bold text-2xl",children:[L," Category"]}),e.jsx("div",{className:"absolute -top-14 -right-14 text-white cursor-pointer",children:e.jsx(k,{strokeWidth:1.5,size:38,onClick:D})})]}),e.jsx("div",{className:"modal-content pt-6",children:e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(m,{value:"Category Title",className:"mb-1 font-dmsans"}),e.jsx(M,{id:"title",type:"text",name:"title",className:"w-full rounded-sm font-dmsans placeholder:font-dmsans",placeholder:"Category Title...",onChange:s=>l("title",s.target.value),value:n.title}),e.jsx(u,{message:i.title,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(m,{value:"Category Slug",className:"mb-1 font-dmsans"}),e.jsx(M,{id:"slug",type:"text",name:"slug",className:"w-full rounded-sm font-dmsans placeholder:font-dmsans",placeholder:"Category Slug...",onChange:s=>l("slug",s.target.value),value:n.slug}),e.jsx(u,{message:i.slug,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(m,{value:"Category Description",className:"mb-1 font-dmsans"}),e.jsx("textarea",{id:"description",name:"description",rows:"10",className:"border-gray-300 rounded-sm w-full font-dmsans placeholder:font-dmsans focus:border-yellow-500 focus:ring-0",placeholder:"Description...",onChange:s=>l("description",s.target.value),value:n.description}),e.jsx(u,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(m,{value:"Category Status",className:"mb-1 font-dmsans"}),e.jsxs("select",{name:"status",id:"status",className:"border-gray-300 rounded-sm w-full font-dmsans placeholder:font-dmsans focus:border-yellow-500 focus:ring-0",onChange:s=>l("status",s.target.value),value:n.status,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"})]}),e.jsx(u,{message:i.status,className:"mt-2"})]}),e.jsx("input",{type:"hidden",name:"type",value:p}),e.jsx("div",{className:"font-item mb-4 text-right",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-2 font-dmsans rounded-sm font-bold",disabled:z,children:"Submit"})})]})})]})}),e.jsx(E,{show:_,onClose:c,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative",children:[e.jsx("h1",{className:"font-bold text-3xl text-center",children:"Are you sure ?"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(k,{strokeWidth:1.5,size:38,onClick:c})}),e.jsxs("div",{className:"flex justify-center gap-2 pt-6",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 font-bold rounded",onClick:c,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 font-bold rounded",onClick:R,children:"Confirm"})]})]})})]})}export{ee as default};
