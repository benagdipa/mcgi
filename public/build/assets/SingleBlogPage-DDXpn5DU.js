import{r,j as e,S as le,x as h,m as ie}from"./app-DcU-pHgi.js";import{G as ne}from"./GuestLayout-DDJIFGtz.js";import{D as M}from"./datetime-DcQSltNB.js";import{_ as n}from"./index-DWmEXXNR.js";import{B as P}from"./Badge-BGYZeVxZ.js";import{C as m}from"./Card-BhSBht7v.js";import{y as oe,V as O,Q as me,o as ce,Z as de,R as A,U as D,_ as J,$ as V,a0 as q,H as xe,W as he,a1 as H,D as fe,a2 as je}from"./index-VRqsH7Np.js";import{T as f}from"./TextInput-DVTwl0cB.js";import{I as j}from"./InputError-C7fk62VO.js";import{P as G}from"./PrimaryButton-Bu9WmYf4.js";import{S as z}from"./SecondaryButton-BoPBhd-Z.js";import{M as Y}from"./Modal-DBDAEaT5.js";import"./Dropdown-BEzsTaq8.js";import"./iconBase-8fZdkZtg.js";import"./transition-C-BcvKEz.js";import"./index-x9q-pVUo.js";import"./keyboard-BcSRVZMa.js";function Le({auth:g,post:s,categories:Q,tags:W,relatedPosts:u}){const Z=M.fromISO(s==null?void 0:s.created_at,"MM/dd/yyyy HH:mm:ss"),[o,y]=r.useState(!1),[K,p]=r.useState(!1),[X,c]=r.useState(!1),[b,v]=r.useState(""),[ee,S]=r.useState(!1),[C,N]=r.useState(""),[k,I]=r.useState(""),[d,_]=r.useState(""),[F,R]=r.useState(""),[w,E]=r.useState({}),[T,L]=r.useState(!1);r.useEffect(()=>{const t=JSON.parse(localStorage.getItem("savedPosts")||"[]");if(y(t.includes(s.id)),localStorage.getItem(`post_viewed_${s.id}`)||localStorage.setItem(`post_viewed_${s.id}`,"true"),window.location.hash){const l=window.location.hash.substring(1),i=document.getElementById(l);i&&i.scrollIntoView({behavior:"smooth"})}},[s.id]);const $=()=>{const t=JSON.parse(localStorage.getItem("savedPosts")||"[]");if(o){const a=t.filter(l=>l!==s.id);localStorage.setItem("savedPosts",JSON.stringify(a))}else t.push(s.id),localStorage.setItem("savedPosts",JSON.stringify(t));y(!o)},U=()=>{navigator.clipboard.writeText(window.location.href),p(!1)},se=t=>{if(t.preventDefault(),N(""),!b){N("Email is required");return}if(!/\S+@\S+\.\S+/.test(b)){N("Please enter a valid email");return}S(!0),setTimeout(()=>{c(!1),setTimeout(()=>{S(!1),v("")},500)},2e3)},te=t=>{t.preventDefault();const a={};if(k||(a.name="Name is required"),d||(a.email="Email is required"),d&&!/\S+@\S+\.\S+/.test(d)&&(a.email="Please enter a valid email"),F||(a.content="Comment is required"),Object.keys(a).length>0){E(a);return}L(!0),E({}),setTimeout(()=>{L(!1),I(""),_(""),R(""),alert("Comment submitted successfully! It will be visible after approval.")},1e3)},ae=({list:t})=>{if(t){const a=t.split(",");return a==null?void 0:a.map((l,i)=>{const x=Q.filter(re=>re.id===parseInt(l));return e.jsx(P,{color:"primary",variant:"soft",className:"mr-2",children:x[0].title},x[0].id)})}},B=({list:t})=>{if(t){const a=t.split(",");return a==null?void 0:a.map(l=>{const i=W.filter(x=>x.id===parseInt(l));return e.jsx(P,{color:"secondary",variant:"light",className:"mr-2 mb-2",icon:e.jsx(je,{className:"mr-1"}),children:i[0].title},i[0].id)})}};return e.jsxs(ne,{user:g==null?void 0:g.user,children:[e.jsxs(le,{children:[e.jsx("title",{children:s.title}),e.jsx("meta",{name:"title",content:s.meta_title||s.title}),e.jsx("meta",{name:"keywords",content:s.seo_keywords||""}),e.jsx("meta",{name:"description",content:s.meta_description||s.excerpt||""}),e.jsx("meta",{property:"og:type",content:"article"}),e.jsx("meta",{property:"og:url",content:window.location.href}),e.jsx("meta",{property:"og:title",content:s.meta_title||s.title}),e.jsx("meta",{property:"og:description",content:s.meta_description||s.excerpt||""}),e.jsx("meta",{property:"og:image",content:s.featured_image}),e.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{property:"twitter:url",content:window.location.href}),e.jsx("meta",{property:"twitter:title",content:s.meta_title||s.title}),e.jsx("meta",{property:"twitter:description",content:s.meta_description||s.excerpt||""}),e.jsx("meta",{property:"twitter:image",content:s.featured_image})]}),e.jsxs("div",{className:"single-post",children:[e.jsxs("div",{className:"page-header pt-[70px] md:pt-80 pb-28 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/90 to-primary/70 z-0",children:s.featured_image&&e.jsx("img",{src:s.featured_image,alt:s.title,className:"absolute inset-0 w-full h-full object-cover mix-blend-overlay opacity-40"})}),e.jsx(n,{animation:"slideLeftToRight",children:e.jsxs("div",{className:"lg:max-w-screen-xl w-11/12 mx-auto relative z-10",children:[e.jsxs(h,{href:route("blogs.index"),className:"inline-flex items-center text-white/80 hover:text-white mb-6 transition-colors",children:[e.jsx(oe,{className:"mr-2"}),"Back to Articles"]}),s.categories&&e.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:e.jsx(ae,{list:s.categories})}),e.jsx("h1",{className:"font-bold text-4xl md:text-6xl text-white mb-6 leading-tight",children:s.title}),e.jsxs("div",{className:"meta flex flex-wrap items-center text-white/80 gap-4 mb-6",children:[e.jsxs("div",{className:"post-date flex items-center",children:[e.jsx(O,{className:"mr-2"}),e.jsx("span",{className:"font-medium",children:Z.toFormat("LLLL dd, yyyy")})]}),e.jsxs("div",{className:"reading-time flex items-center",children:[e.jsx(me,{className:"mr-2"}),e.jsxs("span",{className:"font-medium",children:[s.reading_time||5," min read"]})]}),e.jsxs("div",{className:"views flex items-center",children:[e.jsx(ce,{className:"mr-2"}),e.jsxs("span",{className:"font-medium",children:[s.views||0," views"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>p(!0),className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-full flex items-center transition-colors",children:[e.jsx(de,{className:"mr-2"}),"Share"]}),e.jsx("button",{onClick:$,className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-full flex items-center transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2"}),"Saved"]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2"}),"Save"]})})]})]})})]}),e.jsx("div",{className:"post-content py-16",children:e.jsx("div",{className:"lg:max-w-screen-xl w-11/12 mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-8",children:[e.jsx(n,{animation:"fadeIn",children:e.jsxs(m,{className:"border-none shadow-xl overflow-hidden",children:[s.featured_image&&e.jsx("div",{className:"featured-image mb-8",children:e.jsx("img",{src:s.featured_image,alt:s.title,className:"w-full h-auto rounded-t-lg"})}),e.jsxs("div",{className:"px-8 pb-8",children:[e.jsx("article",{className:"prose lg:prose-lg max-w-none",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:s.content}})}),s.tags&&e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap",children:e.jsx(B,{list:s.tags})})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"share",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Share this post"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"bg-[#3b5998] text-white p-2 rounded-full",children:e.jsx(J,{})}),e.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(s.title)}`,target:"_blank",rel:"noopener noreferrer",className:"bg-[#1da1f2] text-white p-2 rounded-full",children:e.jsx(V,{})}),e.jsx("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(window.location.href)}&title=${encodeURIComponent(s.title)}`,target:"_blank",rel:"noopener noreferrer",className:"bg-[#0e76a8] text-white p-2 rounded-full",children:e.jsx(q,{})}),e.jsx("button",{onClick:U,className:"bg-gray-700 text-white p-2 rounded-full",children:e.jsx(xe,{})})]})]}),e.jsx("div",{className:"save",children:e.jsx("button",{onClick:$,className:`flex items-center gap-2 py-2 px-4 rounded-full transition-colors ${o?"bg-primary text-white":"bg-gray-100 hover:bg-gray-200"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(A,{})," Saved"]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{})," Save for later"]})})})]})})]})]})}),s.allow_comments&&e.jsx(n,{animation:"fadeIn",delay:"0.1s",children:e.jsx("div",{className:"mt-12",children:e.jsx(m,{className:"border-none shadow-xl",children:e.jsxs("div",{className:"px-8 py-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Leave a Comment"}),e.jsxs("form",{onSubmit:te,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),e.jsx(f,{type:"text",className:"w-full",value:k,onChange:t=>I(t.target.value)}),e.jsx(j,{message:w.name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx(f,{type:"email",className:"w-full",value:d,onChange:t=>_(t.target.value)}),e.jsx(j,{message:w.email,className:"mt-1"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comment *"}),e.jsx("textarea",{className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50",rows:5,value:F,onChange:t=>R(t.target.value)}),e.jsx(j,{message:w.content,className:"mt-1"})]}),e.jsx("div",{children:e.jsxs(G,{type:"submit",disabled:T,className:"flex items-center gap-2",children:[e.jsx(he,{}),T?"Submitting...":"Post Comment"]})})]})]})})})})]}),e.jsx("div",{className:"lg:col-span-4",children:e.jsxs("div",{className:"sticky top-24 space-y-8",children:[e.jsx(n,{animation:"fadeIn",delay:"0.1s",children:e.jsxs(m,{className:"border-none shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-primary/10 px-6 py-4 border-b border-primary/20",children:e.jsx("h3",{className:"font-bold text-xl text-gray-800",children:"Join our Newsletter"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Get the latest posts delivered right to your inbox."}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(z,{onClick:()=>c(!0),className:"w-full flex items-center justify-center",children:[e.jsx(H,{className:"mr-2"}),"Subscribe Now"]})})]})]})}),u&&u.length>0&&e.jsx(n,{animation:"fadeIn",delay:"0.2s",children:e.jsxs(m,{className:"border-none shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-primary/10 px-6 py-4 border-b border-primary/20",children:e.jsx("h3",{className:"font-bold text-xl text-gray-800",children:"Related Posts"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[u.map(t=>e.jsxs("div",{className:"flex space-x-4 pb-4 last:pb-0 last:border-b-0 border-b border-gray-100",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{href:route("blogs.show",t.slug),children:e.jsx("img",{src:t.featured_image||"/images/blog-placeholder.jpg",alt:t.title,className:"w-20 h-20 object-cover rounded-md"})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx(h,{href:route("blogs.show",t.slug),className:"font-medium text-gray-800 hover:text-primary transition-colors line-clamp-2",children:t.title}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[e.jsx(O,{className:"mr-1"}),M.fromISO(t.created_at).toFormat("LLL dd, yyyy")]})]})]},t.id)),e.jsxs(h,{href:route("blogs.index"),className:"inline-flex items-center text-primary hover:text-primary-dark font-medium transition-colors",children:["View all posts",e.jsx(fe,{className:"ml-2 text-xs"})]})]})]})}),e.jsx(n,{animation:"fadeIn",delay:"0.3s",children:e.jsxs(m,{className:"border-none shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-primary/10 px-6 py-4 border-b border-primary/20",children:e.jsx("h3",{className:"font-bold text-xl text-gray-800",children:"Tags"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags?e.jsx(B,{list:s.tags}):e.jsx("p",{className:"text-gray-500",children:"No tags"})})})]})})]})})]})})})]}),e.jsx(Y,{show:K,onClose:()=>p(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Share this post"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Post URL"}),e.jsxs("div",{className:"flex",children:[e.jsx(f,{type:"text",className:"flex-grow rounded-r-none",value:window.location.href,readOnly:!0}),e.jsx("button",{onClick:U,className:"px-4 bg-primary text-white rounded-r-md hover:bg-primary-dark transition-colors",children:"Copy"})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[e.jsx("div",{className:"bg-[#3b5998] text-white p-4 rounded-full mb-2",children:e.jsx(J,{className:"text-xl"})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Facebook"})]}),e.jsxs("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(s.title)}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[e.jsx("div",{className:"bg-[#1da1f2] text-white p-4 rounded-full mb-2",children:e.jsx(V,{className:"text-xl"})}),e.jsx("span",{className:"text-sm text-gray-600",children:"Twitter"})]}),e.jsxs("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(window.location.href)}&title=${encodeURIComponent(s.title)}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center",children:[e.jsx("div",{className:"bg-[#0e76a8] text-white p-4 rounded-full mb-2",children:e.jsx(q,{className:"text-xl"})}),e.jsx("span",{className:"text-sm text-gray-600",children:"LinkedIn"})]})]})]})}),e.jsx(Y,{show:X,onClose:()=>c(!1),children:e.jsx("div",{className:"p-6",children:ee?e.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(H,{className:"text-green-600 text-xl"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-gray-600",children:"You have successfully subscribed to our newsletter."})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Subscribe to our Newsletter"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Stay updated with our latest articles and news."}),e.jsxs("form",{onSubmit:se,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx(f,{type:"email",className:"w-full",placeholder:"your@email.com",value:b,onChange:t=>v(t.target.value)}),C&&e.jsx(j,{message:C,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx(z,{type:"button",onClick:()=>c(!1),className:"mr-2",children:"Cancel"}),e.jsx(G,{type:"submit",children:"Subscribe"})]})]})]})})})]})}export{Le as default};
