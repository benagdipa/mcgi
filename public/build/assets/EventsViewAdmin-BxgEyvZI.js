import{j as e,x as d,c as j}from"./app-eKKndjnY.js";import{A as b}from"./AuthenticatedLayout-jI0e412N.js";import{r as l}from"./index-XA5Fpi3v.js";import"./index-Be1TB9th.js";import"./iconBase-Dljp4mII.js";import"./Dropdown-D_xPmhC-.js";import"./transition-BNarjejl.js";import"./index-DOdrVWTX.js";import"./index-BarBPuyi.js";import"./index-DvKDCjWq.js";function k({auth:n,event:s,attendance:m}){const x=["SN","Name","Email","Phone","Member Type"],c=m,h=async()=>{try{const t=await j.post(route("api.export.attendee"),{event_id:s==null?void 0:s.id}),i=new Blob([t.data],{type:"text/csv"}),a=window.URL.createObjectURL(i),r=document.createElement("a");r.href=a,r.setAttribute("download","Attendee.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch{console.error("Error exporting to CSV:",error)}};return e.jsx(b,{user:n==null?void 0:n.user,children:e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsxs("div",{className:"content-header px-6 flex justify-between items-center",children:[e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:s==null?void 0:s.title}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(d,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(d,{href:route("admin.events.index"),children:"Events"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(d,{href:"#",children:s==null?void 0:s.title})})]})})]}),e.jsx("div",{className:"right flex gap-4",children:e.jsx("button",{onClick:h,className:"bg-[#f5cd06] shadow-lg text-[#0f0f0f] px-5 py-3 rounded-md font-semibold text-sm font-poppins",children:"Export Attendee"})})]}),e.jsx("div",{className:"page-content pt-8",children:e.jsx(l.Card,{className:"h-full w-full overflow-scroll rounded-none font-dmsans",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:x.map(t=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:e.jsx(l.Typography,{className:"font-semibold text-lg leading-none opacity-70 font-poppins",children:t})},t))})}),e.jsx("tbody",{children:c.map(({id:t,name:i,email:a,phone:r,member_type:f},p)=>{const o=p===c.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:o,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:p+1})}),e.jsx("td",{className:o,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:i})}),e.jsx("td",{className:o,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:a})}),e.jsx("td",{className:o,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:r})}),e.jsx("td",{className:o,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:f})})]},t)})})]})})})]})})}export{k as default};
