import{W as J,r as n,j as e,a as K,d as T,R as O,y as Q}from"./app-D_xJnsMM.js";import{A as V,r as i}from"./AuthenticatedLayout-DzJl0xWX.js";import{M as j}from"./Modal-MH6kULuN.js";import{I as l}from"./InputLabel-B9qkPlRG.js";import{I as c}from"./InputError-DNj1HsXD.js";import{T as m}from"./TextInput-CPbY2ZWs.js";import{I as N}from"./IconX-B3wgy3Ck.js";import"./index-Cj3qzdo2.js";import"./Dropdown-CbjVxB19.js";import"./transition-B-rbL5LP.js";function he({auth:f,users:b,locale:p}){const k=["SN","First Name","Last Name","Email","Phone","Locale","Actions"],{data:d,setData:a,post:Y,processing:L,errors:r,reset:Z,delete:ee}=J({title:""}),[P,g]=n.useState(!1),[I,v]=n.useState(""),[U,y]=n.useState(""),[w,D]=n.useState(""),[W,F]=n.useState(!1),[R,C]=n.useState(!1),[se,z]=n.useState(""),S=["create-users","edit-users","delete-users","create-blog-posts","edit-blog-posts","delete-blog-posts"],A=()=>{F(!1)},_=s=>{if(s){console.log(p);const t=p.filter(x=>x.id===parseInt(s));if(console.log(t),t.length)return t[0].title}},$=(s,t=0)=>{if(t!==0&&D(t),s==="add")v("Add New"),y("_add");else if(s==="edit"){const x=p.filter(u=>u.id===t);a({...x[0]}),v("Edit"),y("_edit")}g(!0)},E=()=>{g(!1)},B=s=>{s.preventDefault()},H=s=>{z(s),C(!0)},h=()=>{C(!1)},X=()=>{w&&Q.delete(route("admin.users.delete",w),{onSuccess:()=>{h()}})};return e.jsxs(V,{user:f==null?void 0:f.user,children:[e.jsx(K,{title:"Users"}),e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsxs("div",{className:"content-header px-6 flex justify-between items-center",children:[e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Users"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(T,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(T,{href:route("admin.users.index"),children:"Users"})})]})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"bg-[#f5cd06] shadow-lg text-[#0f0f0f] px-5 py-3 rounded-md font-semibold text-lg font-poppins",onClick:()=>{$("add")},children:"Add New"})})]}),e.jsx("div",{className:"page-content pt-8",children:e.jsx(i.Card,{className:"h-full w-full overflow-scroll rounded-none font-poppins",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left font-poppins",children:[e.jsx("thead",{children:e.jsx("tr",{children:k.map(s=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:e.jsx(i.Typography,{className:"font-semibold text-lg leading-none opacity-70 font-poppins",children:s})},s))})}),e.jsx("tbody",{children:b.map(({id:s,first_name:t,last_name:x,email:u,local:q,phone:G,roles:te},M)=>{const o=M===b.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:o,children:e.jsx(i.Typography,{className:"font-medium font-poppins",children:`${M+1}`})}),e.jsx("td",{className:o,children:e.jsx(i.Typography,{className:"font-medium font-poppins",children:`${t}`})}),e.jsx("td",{className:o,children:e.jsx(i.Typography,{className:"font-medium font-poppins",children:`${x}`})}),e.jsx("td",{className:o,children:e.jsx(i.Typography,{className:"font-medium font-poppins",children:u})}),e.jsx("td",{className:o,children:e.jsx(i.Typography,{className:"font-medium font-poppins",children:G})}),e.jsx("td",{className:o,children:e.jsx(i.Typography,{className:"font-medium font-poppins",children:_(q)})}),e.jsx("td",{className:o,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-0 text-sm font-medium font-poppins",children:"Edit"}),e.jsx("button",{className:"text-red-500 px-0 text-sm font-medium font-poppins",onClick:()=>{H(s)},children:"Delete"})]})})]},s)})})]})})})]}),e.jsx(j,{show:W,onClose:A,maxWidth:"xl",children:e.jsxs("div",{className:"permission-modal px-6 py-8 relative",children:[e.jsx("h1",{className:"font-bold text-2xl font-poppins",children:"User Role & Permission"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(N,{strokeWidth:1.5,size:38,onClick:A})}),e.jsx("div",{className:"modal-content pt-6",children:e.jsxs("form",{action:"",children:[e.jsxs("div",{className:"form-field font-poppins mb-4",children:[e.jsx(l,{value:"Role",className:"mb-1"}),e.jsxs("select",{className:"w-full rounded border border-gray-400 text-gray-600 font-medium",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"",children:"Admin"}),e.jsx("option",{value:"",children:"User"})]})]}),e.jsxs("div",{className:"form-field font-poppins mb-6",children:[e.jsx(l,{value:"Permissions"}),e.jsx("div",{className:"grid grid-cols-2 flex-wrap font-poppins pt-4",children:S.length&&S.map((s,t)=>e.jsx(O.Fragment,{children:e.jsxs("label",{className:"pb-3 block font-poppins capitalize",children:[e.jsx("input",{type:"checkbox",value:s,className:"rounded w-5 h-5"}),e.jsx("span",{className:"pl-2 font-medium",children:s.replace(/-/g," ")})]})},t))})]}),e.jsx("div",{className:"form-field flex justify-end",children:e.jsx("button",{className:"font-poppins bg-blue-500 text-white px-4 py-2 text-lg font-medium rounded-md",children:"Submit"})})]})})]})}),e.jsx(j,{show:P,onClose:E,maxWidth:"2xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsxs("h1",{className:"font-bold text-2xl font-poppins",children:[I," User"]}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(N,{strokeWidth:1.5,size:38,onClick:E})}),e.jsx("div",{className:"modal-content pt-6",children:e.jsxs("form",{onSubmit:B,children:[e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(l,{value:"First Name",className:"mb-1 font-poppins font-semibold"}),e.jsx(m,{id:"title",type:"text",name:"title",className:"w-full rounded-md font-poppins",placeholder:"First Name...",onChange:s=>a("title",s.target.value),value:d.title}),e.jsx(c,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Last Name",className:"mb-1 font-poppins font-semibold"}),e.jsx(m,{id:"title",type:"text",name:"title",className:"w-full rounded-md font-poppins",placeholder:"Last Name...",onChange:s=>a("title",s.target.value),value:d.title}),e.jsx(c,{message:r.title,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(l,{value:"Email Address",className:"mb-1 font-poppins font-semibold"}),e.jsx(m,{id:"title",type:"text",name:"title",className:"w-full rounded-md font-poppins",placeholder:"Email Address...",onChange:s=>a("title",s.target.value),value:d.title}),e.jsx(c,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Phone Number",className:"mb-1 font-poppins font-semibold"}),e.jsx(m,{id:"title",type:"text",name:"title",className:"w-full rounded-md font-poppins",placeholder:"Last Name...",onChange:s=>a("title",s.target.value),value:d.title}),e.jsx(c,{message:r.title,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(l,{value:"Password",className:"mb-1 font-poppins font-semibold"}),e.jsx(m,{id:"title",type:"text",name:"title",className:"w-full rounded-md font-poppins",placeholder:"Password...",onChange:s=>a("title",s.target.value),value:d.title}),e.jsx(c,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Confirm Password",className:"mb-1 font-poppins font-semibold"}),e.jsx(m,{id:"title",type:"text",name:"title",className:"w-full rounded-md font-poppins",placeholder:"Confirm Password...",onChange:s=>a("title",s.target.value),value:d.title}),e.jsx(c,{message:r.title,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-field mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(l,{value:"Locale",className:"mb-1 font-poppins font-semibold"}),e.jsxs("select",{className:"w-full border-gray-300 rounded-md font-poppins focus:border-yellow-500 focus:ring-0",children:[e.jsx("option",{value:"",children:"Select"}),p.length&&p.map((s,t)=>e.jsx("option",{value:s.id,children:s.title},s.id))]})]}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsx(l,{value:"Role",className:"mb-1 font-poppins font-semibold"}),e.jsxs("select",{className:"w-full border-gray-300 rounded-md font-poppins focus:border-yellow-500 focus:ring-0",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"",children:"Admin"}),e.jsx("option",{value:"",children:"User"})]})]})})]})}),e.jsx("input",{type:"hidden",name:"type",value:U}),e.jsx("div",{className:"font-item mb-4 text-right",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 font-poppins rounded-sm font-bold",disabled:L,children:"Submit"})})]})})]})}),e.jsx(j,{show:R,onClose:h,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsx("h1",{className:"font-bold text-3xl text-center",children:"Are you sure ?"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(N,{strokeWidth:1.5,size:38,onClick:h})}),e.jsxs("div",{className:"flex justify-center gap-2 pt-6",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-3 font-semibold rounded",onClick:h,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-3 font-semibold rounded",onClick:X,children:"Confirm"})]})]})})]})}export{he as default};
