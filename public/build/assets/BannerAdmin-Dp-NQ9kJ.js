import{W as D,r as x,j as e,d as b}from"./app-BrZIlF2M.js";import{A as C}from"./AuthenticatedLayout-D7VdrwQ_.js";import{r as a}from"./index-DHKdgeSL.js";import{u as A}from"./index-BywnZ8v6.js";import{I as U}from"./IconX-9p7TSlBX.js";import"./Dropdown-CkwPilAC.js";import"./transition-CCC01Lrq.js";import"./index-2ZNKHYxz.js";const F=({auth:l,banners:o,titles:i,ids:h})=>{var p;const{data:t,setData:n,post:g,processing:c,errors:O,reset:R,delete:f}=D({title:"",banners:[]});console.log(o);const[d,m]=x.useState(!1);x.useState("");const u=()=>{m(!d)},j=async r=>{r.preventDefault();try{const s=new FormData;s.append("banner",t.banners),s.append("title",t.title),g(route("admin.banner.store"),s),m(!1)}catch(s){console.error("Error uploading images:",s)}},y=(r,s)=>{const v=[...t==null?void 0:t.banners].filter((I,w)=>w!==s);n("banners",v)};(p=t==null?void 0:t.banners)==null||p.map((r,s)=>e.jsxs("div",{className:"border border-gray-300 rounded relative w-36 h-36 p-1",children:[e.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 rounded-full text-white p-1 cursor-pointer",children:e.jsx(U,{size:16,onClick:()=>{y(r,s)}})}),e.jsx("img",{src:r.preview,className:"w-full h-full object-cover rounded",alt:`Thumbnail ${s}`})]},s)),A({accept:"image/*",onDrop:r=>{console.log(r),n("banners",[...t.banners||[],...r.map(s=>Object.assign(s,{preview:URL.createObjectURL(s)}))])}});const N=r=>{console.log(r),f(route("admin.banner.delete",r))};return e.jsx(C,{user:l==null?void 0:l.user,children:e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsxs("div",{className:"content-header px-6 flex justify-between items-center",children:[e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Banners"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(b,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(b,{href:route("admin.album.index"),children:"Banner"})})]})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"bg-[#f5cd06] shadow-lg text-[#0f0f0f] px-5 py-3 rounded-md font-semibold text-lg font-poppins",onClick:u,children:"Add New"})})]}),e.jsx("div",{children:e.jsx(a.Collapse,{open:d,children:e.jsx(a.Card,{className:"px-6",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(a.Typography,{variant:"h6",color:"blue-gray",className:"my-3",children:"Title"}),e.jsx(a.Input,{size:"lg",placeholder:"enter banner title",value:t.title,onChange:r=>n("title",r.target.value),className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}}),e.jsx(a.Typography,{variant:"h6",color:"blue-gray",className:"my-3",children:"Update Banner"}),e.jsx(a.Input,{type:"file",size:"lg",onChange:r=>{n("banners",[...t.banners||[],...[...r.target.files].map(s=>Object.assign(s,{preview:URL.createObjectURL(s)}))])},className:" !border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"}})]}),e.jsx("div",{className:"font-item mb-4 text-right",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 font-poppins rounded-sm font-bold",disabled:c,children:"Upload"})})]})})})}),e.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:o.map((r,s)=>e.jsx(a.Card,{className:"mt-6 mx-8 w-[450px]",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"mr-8",children:e.jsx("img",{src:`${r}`,alt:`${i[s]}`,className:"h-[100px] w-[100px]"})}),e.jsxs("div",{className:"flex w-[60%] justify-between items-center",children:[e.jsx(a.Typography,{variant:"h5",color:"blue-gray",className:"",children:i[s]}),e.jsx("button",{className:"bg-red-500  text-white py-1 px-3 text-xs font-poppins rounded-sm font-bold",disabled:c,onClick:()=>N(h[s]),children:"Delete"})]})]})}))})]})})};export{F as default};
