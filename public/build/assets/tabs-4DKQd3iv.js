import{r as s,R}from"./app-CCsYImbS.js";import{u as J,s as re,I as Q,b as F,N as W,o as ne,a as T,O as w,M as I}from"./keyboard-BxwWZbOK.js";import{b as A,f as ae,O as Y,U as M,s as q,y as _,o as y,C as U,u as D,t as le}from"./transition-DNCcSepB.js";function X(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function ue(e,t){let[r,n]=s.useState(()=>X(e));return A(()=>{n(X(e))},[e.type,e.as]),A(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}function se({onFocus:e}){let[t,r]=s.useState(!0),n=ae();return t?R.createElement(J,{as:"button",type:"button",features:re.Focusable,onFocus:u=>{u.preventDefault();let l,o=50;function p(){if(o--<=0){l&&cancelAnimationFrame(l);return}if(e()){if(cancelAnimationFrame(l),!n.current)return;r(!1);return}l=requestAnimationFrame(p)}l=requestAnimationFrame(p)}}):null}const V=s.createContext(null);function oe(){return{groups:new Map,get(e,t){var r;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let u=(r=n.get(t))!=null?r:0;n.set(t,u+1);let l=Array.from(n.keys()).indexOf(t);function o(){let p=n.get(t);p>1?n.set(t,p-1):n.delete(t)}return[l,o]}}}function ie({children:e}){let t=s.useRef(oe());return s.createElement(V.Provider,{value:t},e)}function Z(e){let t=s.useContext(V);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=ce(),[n,u]=t.current.get(e,r);return s.useEffect(()=>u,[]),n}function ce(){var e,t,r;let n=(r=(t=(e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?r:null;if(!n)return Symbol();let u=[],l=n;for(;l;)u.push(l.index),l=l.return;return"$."+u.join(".")}var de=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(de||{}),fe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(fe||{}),pe=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(pe||{});let be={0(e,t){var r;let n=F(e.tabs,c=>c.current),u=F(e.panels,c=>c.current),l=n.filter(c=>{var v;return!((v=c.current)!=null&&v.hasAttribute("disabled"))}),o={...e,tabs:n,panels:u};if(t.index<0||t.index>n.length-1){let c=D(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>D(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return o;let v=D(c,{0:()=>n.indexOf(l[0]),1:()=>n.indexOf(l[l.length-1])});return{...o,selectedIndex:v===-1?e.selectedIndex:v}}let p=n.slice(0,t.index),P=[...n.slice(t.index),...p].find(c=>l.includes(c));if(!P)return o;let g=(r=n.indexOf(P))!=null?r:e.selectedIndex;return g===-1&&(g=e.selectedIndex),{...o,selectedIndex:g}},1(e,t){if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],n=F([...e.tabs,t.tab],l=>l.current),u=e.selectedIndex;return e.info.current.isControlled||(u=n.indexOf(r),u===-1&&(u=e.selectedIndex)),{...e,tabs:n,selectedIndex:u}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:F([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},z=s.createContext(null);z.displayName="TabsDataContext";function C(e){let t=s.useContext(z);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,C),r}return t}let j=s.createContext(null);j.displayName="TabsActionsContext";function H(e){let t=s.useContext(j);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,H),r}return t}function xe(e,t){return D(t.type,be,e,t)}let me=s.Fragment;function ge(e,t){let{defaultIndex:r=0,vertical:n=!1,manual:u=!1,onChange:l,selectedIndex:o=null,...p}=e;const P=n?"vertical":"horizontal",g=u?"manual":"auto";let c=o!==null,v=q({isControlled:c}),h=_(t),[f,i]=s.useReducer(xe,{info:v,selectedIndex:o??r,tabs:[],panels:[]}),O=s.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),k=q(l||(()=>{})),x=q(f.tabs),m=s.useMemo(()=>({orientation:P,activation:g,...f}),[P,g,f]),E=y(d=>(i({type:1,tab:d}),()=>i({type:2,tab:d}))),$=y(d=>(i({type:3,panel:d}),()=>i({type:4,panel:d}))),S=y(d=>{L.current!==d&&k.current(d),c||i({type:0,index:d})}),L=q(c?e.selectedIndex:f.selectedIndex),B=s.useMemo(()=>({registerTab:E,registerPanel:$,change:S}),[]);A(()=>{i({type:0,index:o??r})},[o]),A(()=>{if(L.current===void 0||f.tabs.length<=0)return;let d=F(f.tabs,a=>a.current);d.some((a,b)=>f.tabs[b]!==a)&&S(d.indexOf(f.tabs[L.current]))});let G={ref:h};return R.createElement(ie,null,R.createElement(j.Provider,{value:B},R.createElement(z.Provider,{value:m},m.tabs.length<=0&&R.createElement(se,{onFocus:()=>{var d,a;for(let b of x.current)if(((d=b.current)==null?void 0:d.tabIndex)===0)return(a=b.current)==null||a.focus(),!0;return!1}}),U({ourProps:G,theirProps:p,slot:O,defaultTag:me,name:"Tabs"}))))}let ve="div";function Te(e,t){let{orientation:r,selectedIndex:n}=C("Tab.List"),u=_(t);return U({ourProps:{ref:u,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:n},defaultTag:ve,name:"Tabs.List"})}let Ie="button";function Pe(e,t){var r,n;let u=Q(),{id:l=`headlessui-tabs-tab-${u}`,...o}=e,{orientation:p,activation:P,selectedIndex:g,tabs:c,panels:v}=C("Tab"),h=H("Tab"),f=C("Tab"),i=s.useRef(null),O=_(i,t);A(()=>h.registerTab(i),[h,i]);let k=Z("tabs"),x=c.indexOf(i);x===-1&&(x=k);let m=x===g,E=y(a=>{var b;let N=a();if(N===W.Success&&P==="auto"){let ee=(b=ne(i))==null?void 0:b.activeElement,K=f.tabs.findIndex(te=>te.current===ee);K!==-1&&h.change(K)}return N}),$=y(a=>{let b=c.map(N=>N.current).filter(Boolean);if(a.key===T.Space||a.key===T.Enter){a.preventDefault(),a.stopPropagation(),h.change(x);return}switch(a.key){case T.Home:case T.PageUp:return a.preventDefault(),a.stopPropagation(),E(()=>w(b,I.First));case T.End:case T.PageDown:return a.preventDefault(),a.stopPropagation(),E(()=>w(b,I.Last))}if(E(()=>D(p,{vertical(){return a.key===T.ArrowUp?w(b,I.Previous|I.WrapAround):a.key===T.ArrowDown?w(b,I.Next|I.WrapAround):W.Error},horizontal(){return a.key===T.ArrowLeft?w(b,I.Previous|I.WrapAround):a.key===T.ArrowRight?w(b,I.Next|I.WrapAround):W.Error}}))===W.Success)return a.preventDefault()}),S=s.useRef(!1),L=y(()=>{var a;S.current||(S.current=!0,(a=i.current)==null||a.focus({preventScroll:!0}),h.change(x),le(()=>{S.current=!1}))}),B=y(a=>{a.preventDefault()}),G=s.useMemo(()=>{var a;return{selected:m,disabled:(a=e.disabled)!=null?a:!1}},[m,e.disabled]),d={ref:O,onKeyDown:$,onMouseDown:B,onClick:L,id:l,role:"tab",type:ue(e,i),"aria-controls":(n=(r=v[x])==null?void 0:r.current)==null?void 0:n.id,"aria-selected":m,tabIndex:m?0:-1};return U({ourProps:d,theirProps:o,slot:G,defaultTag:Ie,name:"Tabs.Tab"})}let he="div";function Ee(e,t){let{selectedIndex:r}=C("Tab.Panels"),n=_(t),u=s.useMemo(()=>({selectedIndex:r}),[r]);return U({ourProps:{ref:n},theirProps:e,slot:u,defaultTag:he,name:"Tabs.Panels"})}let ye="div",$e=Y.RenderStrategy|Y.Static;function Se(e,t){var r,n,u,l;let o=Q(),{id:p=`headlessui-tabs-panel-${o}`,tabIndex:P=0,...g}=e,{selectedIndex:c,tabs:v,panels:h}=C("Tab.Panel"),f=H("Tab.Panel"),i=s.useRef(null),O=_(i,t);A(()=>f.registerPanel(i),[f,i,p]);let k=Z("panels"),x=h.indexOf(i);x===-1&&(x=k);let m=x===c,E=s.useMemo(()=>({selected:m}),[m]),$={ref:O,id:p,role:"tabpanel","aria-labelledby":(n=(r=v[x])==null?void 0:r.current)==null?void 0:n.id,tabIndex:m?P:-1};return!m&&((u=g.unmount)==null||u)&&!((l=g.static)!=null&&l)?R.createElement(J,{as:"span","aria-hidden":"true",...$}):U({ourProps:$,theirProps:g,slot:E,defaultTag:ye,features:$e,visible:m,name:"Tabs.Panel"})}let we=M(Pe),Re=M(ge),Ae=M(Te),Ce=M(Ee),Oe=M(Se),De=Object.assign(we,{Group:Re,List:Ae,Panels:Ce,Panel:Oe});export{De as $};
