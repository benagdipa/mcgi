import{r as j,j as e,a as T,d as h,b as w}from"./app-O847rDIX.js";import{A as _}from"./AuthenticatedLayout-BtJNy2hg.js";import{r}from"./index-cKUlbK-Y.js";import{D as C}from"./datetime-lqzArHOP.js";import{I as D}from"./IconSearch-P_LM3AyG.js";import{c as S,I as A}from"./Dropdown-Df0Sik1i.js";import"./index-B6vkbxvJ.js";import"./transition-bGz3GJX4.js";/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var E=S("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);function R({auth:c,attendance:b,events:d,locales:i}){const y=[{name:"SN",sortable:!1,asc:!0,sortKey:"id"},{name:"Locale",sortable:!0,asc:!0,sortKey:"locale_name"},{name:"Event",sortable:!0,asc:!0,sortKey:"event_name"},{name:"Date Of Event",sortable:!0,asc:!0,sortKey:"event_date"},{name:"Full Name",sortable:!0,asc:!0,sortKey:"name"},{name:"Entry Date and Time",sortable:!1,asc:!0,sortKey:"created_at"}],[n,m]=j.useState([...b]),x=(s,t)=>{const u=[...n].sort((a,f)=>{let o=0;return typeof a[s]=="string"?o=a[s].localeCompare(f[s]):o=a[s]-f[s],t==="asc"?o:-o});m(u)},[l,g]=j.useState({searchText:"",event_id:"",locale_id:""});function v(s){return C.fromISO(s,{zone:"utc"}).toLocal().toFormat("yyyy-MM-dd h:mm:ss")}const p=(s,t)=>{g({...l,[s]:t})},N=async()=>{const s=await w.post(route("api.search.attendee"),l);s!=null&&s.data&&m(s.data)};return e.jsxs(_,{user:c==null?void 0:c.user,children:[e.jsx(T,{title:"Attendance"}),e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsx("div",{className:"content-header px-6 flex justify-between items-center",children:e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Attendance"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(h,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(h,{href:route("admin.events.index"),children:"Events"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(h,{href:"#",children:"Attendance"})})]})})]})}),e.jsx("div",{className:"page-content pt-8",children:e.jsxs(r.Card,{className:"h-full w-full overflow-scroll rounded-none font-poppins",children:[e.jsxs("div",{className:"filter-row p-4 flex",children:[e.jsxs("div",{className:"grid grid-cols-3 w-full",children:[e.jsx("div",{className:"",children:e.jsx("input",{type:"text",placeholder:"Search by attendee...",className:"border w-full focus:ring-0 focus:border-gray-500 rounded-l-md ",value:l.searchText,onChange:s=>p("searchText",s.target.value)})}),e.jsx("div",{className:"",children:e.jsxs("select",{name:"",className:"w-full border border-l-0 focus:ring-0 focus:border-gray-500",value:l.event_id,onChange:s=>p("event_id",s.target.value),children:[e.jsx("option",{value:"",children:"Select Event"}),d==null?void 0:d.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]})}),e.jsx("div",{children:e.jsxs("select",{name:"",className:"w-full border-l-0 focus:ring-0 focus:border-gray-500",value:l.locale_id,onChange:s=>p("locale_id",s.target.value),children:[e.jsx("option",{value:"",children:"Select Locale"}),i==null?void 0:i.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]})})]}),e.jsx("button",{className:"bg-blue-500 text-white py-[9px] px-4 text-lg rounded-r-md border border-l-0 relative -top-[1px]",onClick:N,children:e.jsx(D,{})})]}),e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:y.map(s=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx(r.Typography,{className:"font-semibold text-lg leading-none opacity-70 font-poppins flex items-center justify-between gap-2",children:s.name}),(s==null?void 0:s.sortable)&&e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute -top-3 right-0 hover:bg-blue-gray-100 rounded-sm",children:e.jsx(E,{size:18,strokeWidth:1.5,onClick:()=>{x(s.sortKey,"asc")}})}),e.jsx("span",{className:"absolute -bottom-2 right-0 hover:bg-blue-gray-100 rounded-sm",children:e.jsx(A,{size:18,strokeWidth:1.5,onClick:()=>{x(s.sortKey,"desc")}})})]})]})},s.name))})}),e.jsx("tbody",{children:n.map((s,t)=>{const a=t===n.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{className:"even:bg-blue-gray-50/50",children:[e.jsx("td",{className:a,children:e.jsx(r.Typography,{className:"font-medium font-poppins",children:t+1})}),e.jsx("td",{className:a,children:e.jsx(r.Typography,{className:"font-medium font-poppins",children:s==null?void 0:s.locale_name})}),e.jsx("td",{className:a,children:e.jsx(r.Typography,{className:"font-medium font-poppins",children:s==null?void 0:s.event_name})}),e.jsx("td",{className:a,children:e.jsx(r.Typography,{className:"font-medium font-poppins",children:s==null?void 0:s.event_date})}),e.jsx("td",{className:a,children:e.jsx(r.Typography,{className:"font-medium font-poppins",children:s==null?void 0:s.name})}),e.jsx("td",{className:a,children:e.jsx(r.Typography,{className:"font-medium font-poppins",children:v(s==null?void 0:s.created_at)})})]},t)})})]}),(n==null?void 0:n.length)===0&&e.jsx(r.Typography,{className:"font-medium font-poppins text-center py-6",children:"No data found"})]})})]})]})}export{R as default};
