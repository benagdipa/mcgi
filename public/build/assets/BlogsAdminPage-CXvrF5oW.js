import{X as D,r as f,j as e,S as B,x as d,A as E}from"./app-Dtf8gQQv.js";import{A as I,i as M}from"./AuthenticatedLayout-BxQm0Q3I.js";import{r as n}from"./index-DbSCgy01.js";import{M as k}from"./Modal-mZfHEPqk.js";import{I as L}from"./IconX-DDdn0JVm.js";import"./Dropdown-Det8Na6t.js";import"./transition-DVSbjTkX.js";import"./index-BarBPuyi.js";import"./index-B7ZiCRBO.js";function G({auth:c,posts:j,categories:u,tags:g}){const{role:N,permissions:b}=D().props.auth,y=["SN","Post Title","Categories","Tags","Status","Action"],p=j,[w,x]=f.useState(!1),[m,v]=f.useState(""),A=({list:s})=>{if(s){const t=s.split(",");return t==null?void 0:t.map(a=>{const l=u.filter(r=>r.id===parseInt(a));return e.jsx("span",{className:"bg-gray-600 text-white rounded px-2 text-[14px]",children:l[0].title},l[0].id)})}},S=({list:s})=>{if(s){const t=s.split(",");return t==null?void 0:t.map(a=>{const l=g.filter(r=>r.id===parseInt(a));return e.jsx("span",{className:"bg-gray-600 text-white rounded px-2 text-[14px]",children:l[0].title},l[0].id)})}},T=s=>{v(s),x(!0)},i=()=>{x(!1)},C=()=>{m&&E.delete(route("admin.blogs.delete",m),{onSuccess:()=>{i()}})};return e.jsxs(I,{user:c==null?void 0:c.user,children:[e.jsx(B,{title:"Blogs"}),e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsxs("div",{className:"content-header px-6 flex justify-between items-center",children:[e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Blogs"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(d,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(d,{href:route("admin.blogs.index"),children:"Blogs"})})]})})]}),e.jsx("div",{className:"right",children:e.jsx(d,{href:route("admin.blogs.add"),className:"bg-[#f5cd06] shadow-lg text-[#0f0f0f] px-5 py-3 rounded-md font-semibold text-lg font-poppins",children:"Add New"})})]}),e.jsx("div",{className:"page-content w-[95%] mx-auto lg:w-full pt-8",children:e.jsx(n.Card,{className:"h-full w-full overflow-scroll rounded-none font-poppins",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:y.map(s=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:e.jsx(n.Typography,{className:"font-semibold text-lg leading-none opacity-70 font-poppins",children:s})},s))})}),e.jsx("tbody",{children:p.map(({id:s,title:t,categories:a,tags:l,status:r,author:_},h)=>{const o=h===p.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:o,children:e.jsx(n.Typography,{className:"font-medium font-poppins",children:h+1})}),e.jsx("td",{className:o,children:e.jsx(n.Typography,{className:"font-medium font-poppins",children:t})}),e.jsx("td",{className:o,children:e.jsx(n.Typography,{className:"font-medium font-poppins",children:e.jsx("span",{className:"space-x-2",children:e.jsx(A,{list:a})})})}),e.jsx("td",{className:o,children:e.jsx(n.Typography,{className:"font-medium font-poppins",children:e.jsx("span",{className:"space-x-2",children:e.jsx(S,{list:l})})})}),e.jsx("td",{className:o,children:e.jsx(n.Typography,{className:"font-medium font-poppins capitalize",children:r})}),e.jsx("td",{className:o,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{className:"px-0 text-sm font-medium font-poppins",href:route("admin.blogs.edit",s),children:"Edit"}),M(b,["delete_blogs_posts"],N)&&e.jsx("button",{className:"text-red-500 px-0 text-sm font-medium font-poppins",onClick:()=>{T(s)},children:"Delete"})]})})]},s)})})]})})})]}),e.jsx(k,{show:w,onClose:i,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsx("h1",{className:"font-bold text-3xl text-center font-poppins",children:"Are you sure ?"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(L,{strokeWidth:1.5,size:38,onClick:i})}),e.jsxs("div",{className:"flex justify-center gap-2 pt-6",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-3 font-semibold rounded",onClick:i,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-3 font-semibold rounded",onClick:C,children:"Confirm"})]})]})})]})}export{G as default};
