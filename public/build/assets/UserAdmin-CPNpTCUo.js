import{r,j as e,a as I,d as b,R as d,y as R}from"./app-D7jmpVWC.js";import{A as E,r as l}from"./AuthenticatedLayout-Cq6Tz-Mq.js";import{M as g}from"./Modal-DBb8y7Bn.js";import{I as y}from"./InputLabel-C-xC_DJS.js";import{I as v}from"./IconX-B6RZJ70x.js";import"./index-C2Ix1_4d.js";import"./Dropdown-BbdUojW0.js";import"./transition-DUZn7M3o.js";function G({auth:o,users:c}){const w=["SN","Full Name","Email","Branch","Phone","Roles & Permissions","Actions"],[C,p]=r.useState(!1),[k,m]=r.useState(!1),[F,x]=r.useState(""),h=["create-users","edit-users","delete-users","create-blog-posts","edit-blog-posts","delete-blog-posts"],M=s=>{x(s),m(!0)},n=()=>{m(!1)},P=s=>{x(s),p(!0)},f=()=>{p(!1)},A=()=>{selectedItem&&R.delete(route("admin.users.delete",selectedItem),{onSuccess:()=>{n()}})};return e.jsxs(E,{user:o==null?void 0:o.user,children:[e.jsx(I,{title:"Users"}),e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsx("div",{className:"content-header px-6 flex justify-between items-center",children:e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Users"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(b,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(b,{href:route("admin.users.index"),children:"Users"})})]})})]})}),e.jsx("div",{className:"page-content pt-8",children:e.jsx(l.Card,{className:"h-full md:w-full w-11/12 mx-auto overflow-scroll rounded-none font-poppins",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left font-poppins",children:[e.jsx("thead",{children:e.jsx("tr",{children:w.map(s=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:e.jsx(l.Typography,{className:"font-semibold text-lg leading-none opacity-70 font-poppins",children:s})},s))})}),e.jsx("tbody",{children:c.map(({id:s,first_name:i,last_name:S,email:T,local:U,phone:D,roles:j},u)=>{const t=u===c.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:t,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:`${u+1}`})}),e.jsx("td",{className:t,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:`${i} ${S}`})}),e.jsx("td",{className:t,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:T})}),e.jsx("td",{className:t,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:U})}),e.jsx("td",{className:t,children:e.jsx(l.Typography,{className:"font-medium font-poppins",children:D})}),e.jsx("td",{className:`${t} max-w-52`,children:j.length&&j.map(a=>e.jsxs(d.Fragment,{children:[e.jsx(l.Typography,{className:"font-medium font-poppins capitalize",children:a.name}),e.jsx("div",{className:"flex gap-1 w-full flex-wrap pt-2",children:a.permissions.length&&a.permissions.map(N=>e.jsx(d.Fragment,{children:e.jsx("p",{className:"text-[12px] bg-gray-600 text-white rounded px-2",children:N.name})},N.id))})]},a.id))}),e.jsx("td",{className:t,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-0 text-sm font-medium font-poppins",onClick:()=>{P(s)},children:"Permissions"}),e.jsx("button",{className:"text-red-500 px-0 text-sm font-medium font-poppins",onClick:()=>{M(s)},children:"Delete"})]})})]},s)})})]})})})]}),e.jsx(g,{show:C,onClose:f,maxWidth:"xl",children:e.jsxs("div",{className:"permission-modal px-6 py-8 relative",children:[e.jsx("h1",{className:"font-bold text-2xl font-poppins",children:"User Role & Permission"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(v,{strokeWidth:1.5,size:38,onClick:f})}),e.jsx("div",{className:"modal-content pt-6",children:e.jsxs("form",{action:"",children:[e.jsxs("div",{className:"form-field font-poppins mb-4",children:[e.jsx(y,{value:"Role",className:"mb-1"}),e.jsxs("select",{className:"w-full rounded border border-gray-400 text-gray-600 font-medium",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"",children:"Admin"}),e.jsx("option",{value:"",children:"User"})]})]}),e.jsxs("div",{className:"form-field font-poppins mb-6",children:[e.jsx(y,{value:"Permissions"}),e.jsx("div",{className:"grid grid-cols-2 flex-wrap font-poppins pt-4",children:h.length&&h.map((s,i)=>e.jsx(d.Fragment,{children:e.jsxs("label",{className:"pb-3 block font-poppins capitalize",children:[e.jsx("input",{type:"checkbox",value:s,className:"rounded w-5 h-5"}),e.jsx("span",{className:"pl-2 font-medium",children:s.replace(/-/g," ")})]})},i))})]}),e.jsx("div",{className:"form-field flex justify-end",children:e.jsx("button",{className:"font-poppins bg-blue-500 text-white px-4 py-2 text-lg font-medium rounded-md",children:"Submit"})})]})})]})}),e.jsx(g,{show:k,onClose:n,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsx("h1",{className:"font-bold text-3xl text-center",children:"Are you sure ?"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(v,{strokeWidth:1.5,size:38,onClick:n})}),e.jsxs("div",{className:"flex justify-center gap-2 pt-6",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-3 font-semibold rounded",onClick:n,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-3 font-semibold rounded",onClick:A,children:"Confirm"})]})]})})]})}export{G as default};
