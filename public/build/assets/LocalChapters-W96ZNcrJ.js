import{j as e,m as c,R as Q,x as V,r as n,S as W}from"./app-eKKndjnY.js";import{G as J}from"./GuestLayout-Dx66rdEq.js";import{ax as Y,ag as M,J as w,H as I,ay as K,$ as R,k as P,az as X,aq as Z,B as ee,a8 as se,aA as ae}from"./index-TDrpVwW6.js";import{B}from"./Badge-BLvQx9Gj.js";import"./Dropdown-D_xPmhC-.js";import"./iconBase-Dljp4mII.js";import"./transition-BNarjejl.js";function te({title:y,subtitle:u,breadcrumbs:f=[],badge:p=null}){return e.jsxs("div",{className:"relative bg-gradient-to-b from-gray-50 to-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.03]",children:e.jsx("div",{className:"grid grid-cols-12 gap-1 h-full",children:Array(48).fill().map((o,r)=>e.jsx("div",{className:"bg-black/10 rounded-sm"},r))})}),e.jsx("div",{className:"relative pt-16 pb-12 sm:pb-16 lg:pb-20",children:e.jsx("div",{className:"px-6 mx-auto max-w-7xl",children:e.jsxs("div",{className:"text-center",children:[f.length>0&&e.jsx(c.nav,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-center mb-6 text-sm","aria-label":"Breadcrumb",children:e.jsx("ol",{className:"inline-flex items-center space-x-2",children:f.map((o,r)=>e.jsxs(Q.Fragment,{children:[r>0&&e.jsx("li",{children:e.jsx("span",{className:"text-gray-400",children:"/"})}),e.jsx("li",{children:o.href?e.jsx(V,{href:o.href,className:"text-gray-600 hover:text-primary transition-colors",children:o.label}):e.jsx("span",{className:"text-gray-900 font-medium",children:o.label})})]},r))})}),p&&e.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-4",children:e.jsx(B,{color:"primary",variant:"soft",size:"lg",children:p})}),e.jsx(c.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl md:text-6xl font-sans",children:y}),u&&e.jsx(c.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mx-auto mt-6 max-w-2xl text-lg text-gray-600 font-sans",children:u})]})})})]})}function he({auth:y,locations:u,locales:f}){const[p,o]=n.useState("all"),[r,j]=n.useState(""),[N,F]=n.useState("all"),[L,C]=n.useState(!0),[_,z]=n.useState(!1),[m,G]=n.useState(null),[U,k]=n.useState(!1),[a,D]=n.useState(null),[S,$]=n.useState(null),E=[...new Set(u.map(s=>s.state).filter(Boolean))].sort();n.useEffect(()=>{$(null)},[p,N,r,L]);const O=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(s=>{const t={lat:s.coords.latitude,lng:s.coords.longitude};G(t),q(t)},s=>{console.error("Error getting location: ",s),alert("Unable to access your location. Please ensure location services are enabled.")}):alert("Geolocation is not supported by your browser.")},v=(s,t,d,h)=>{const i=b(d-s),g=b(h-t),A=Math.sin(i/2)*Math.sin(i/2)+Math.cos(b(s))*Math.cos(b(d))*Math.sin(g/2)*Math.sin(g/2);return 6371*(2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A)))},b=s=>s*(Math.PI/180),q=s=>{let t=null,d=1/0;const h=u.filter(l=>l.has_physical_location&&l.latitude&&l.longitude);if(h.length===0){alert("No physical locations with coordinates found.");return}for(const l of h){const i=v(s.lat,s.lng,parseFloat(l.latitude),parseFloat(l.longitude));i<d&&(d=i,t={...l,distance:i})}t&&(D(t),k(!0),x.findIndex(i=>i.id===t.id)!==-1&&$(t.id))},x=u.filter(s=>{var i,g;const t=p==="all"||s.locale_id===parseInt(p),d=N==="all"||s.state===N,h=s.name.toLowerCase().includes(r.toLowerCase())||((i=s.address)==null?void 0:i.toLowerCase().includes(r.toLowerCase()))||((g=s.city)==null?void 0:g.toLowerCase().includes(r.toLowerCase())),l=L||s.has_physical_location;return t&&d&&h&&l}),T=m?[...x].sort((s,t)=>{if(!s.latitude||!s.longitude)return 1;if(!t.latitude||!t.longitude)return-1;const d=v(m.lat,m.lng,parseFloat(s.latitude),parseFloat(s.longitude)),h=v(m.lat,m.lng,parseFloat(t.latitude),parseFloat(t.longitude));return d-h}):x,H=[{label:"Home",href:route("home")},{label:"Local Chapters"}];return e.jsxs(J,{user:y==null?void 0:y.user,children:[e.jsxs(W,{children:[e.jsx("title",{children:"Local Chapters - MCGI Australia"}),e.jsx("meta",{name:"description",content:"Find MCGI locations across Australia. Connect with our local chapters and join our community."})]}),e.jsx(te,{title:"Local Chapters",subtitle:"Find your nearest MCGI chapter in Australia and join our growing community of faith",breadcrumbs:H,badge:"Our Locations"}),e.jsx("div",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsx("div",{className:"mb-12",children:e.jsx(c.div,{className:"bg-gradient-to-r from-primary to-primary/80 text-white rounded-2xl p-8 md:p-12 shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs("div",{className:"md:flex items-center justify-between",children:[e.jsxs("div",{className:"mb-6 md:mb-0 md:mr-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:"Find Your Nearest Location"}),e.jsx("p",{className:"text-white/90 max-w-xl",children:"Looking for a local MCGI chapter near you? Use your current location to find the closest church in your area."})]}),e.jsxs("button",{onClick:O,className:"w-full md:w-auto bg-white text-primary px-6 py-4 rounded-lg font-medium shadow-md hover:bg-gray-100 transition-colors flex items-center justify-center",children:[e.jsx(Y,{className:"mr-2"}),"Use My Location"]})]})})}),U&&a&&e.jsx(c.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(c.div,{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-2xl w-full relative",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[e.jsx("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:e.jsx(M,{size:24})}),e.jsxs("div",{className:"mb-6",children:[e.jsx(B,{color:"primary",variant:"soft",size:"lg",className:"mb-3",children:"Nearest Location"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.name}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Distance:"})," ",a.distance?`${a.distance.toFixed(1)} km away`:"Unknown distance"]})]}),a.map_code&&e.jsx("div",{className:"h-64 rounded-lg overflow-hidden mb-6",children:e.jsx("iframe",{src:a.map_code,className:"w-full h-full border-0",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`Map of ${a.name}`})}),e.jsxs("div",{className:"space-y-4 text-gray-600 mb-6",children:[a.has_physical_location&&e.jsxs("div",{className:"flex items-start",children:[e.jsx(w,{className:"mt-1 mr-3 text-primary text-lg"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.address}),a.city&&e.jsxs("p",{children:[a.city,a.postal_code?`, ${a.postal_code}`:""]})]})]}),a.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"mr-3 text-primary"}),e.jsx("a",{href:`tel:${a.phone}`,className:"hover:text-primary transition-colors",children:a.phone})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${a.address} ${a.city} ${a.state} Australia`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-sans",children:[e.jsx(w,{className:"mr-2"}),"Get Directions"]}),e.jsxs("button",{onClick:()=>{k(!1);const s=document.getElementById(`location-${a.id}`);s&&s.scrollIntoView({behavior:"smooth",block:"center"})},className:"flex-1 inline-flex items-center justify-center bg-gray-100 text-gray-800 px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors font-sans",children:[e.jsx(K,{className:"mr-2"}),"View Details"]})]})]})}),e.jsx("div",{className:"md:hidden mb-6",children:e.jsxs("button",{onClick:()=>z(!_),className:"w-full flex items-center justify-between bg-white p-4 rounded-xl shadow-md",children:[e.jsxs("span",{className:"flex items-center font-medium text-gray-800",children:[e.jsx(R,{className:"mr-2 text-primary"}),"Filter Locations"]}),e.jsxs("span",{className:"bg-primary/10 text-primary rounded-full px-3 py-1 text-sm",children:[x.length," locations"]})]})}),e.jsx("div",{className:`mb-12 ${_?"block":"hidden md:block"}`,children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(c.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(R,{className:"mr-2 text-primary"}),"Filter Locations"]}),x.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",x.length," location",x.length!==1?"s":""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search locations...",className:"w-full pl-12 pr-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary font-sans",value:r,onChange:s=>j(s.target.value)}),r&&e.jsx("button",{onClick:()=>j(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(M,{})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary bg-white font-sans appearance-none",value:N,onChange:s=>F(s.target.value),children:[e.jsx("option",{value:"all",children:"All States"}),E.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-1 focus:ring-primary bg-white font-sans appearance-none",value:p,onChange:s=>o(s.target.value),children:[e.jsx("option",{value:"all",children:"All Regions"}),f.map(s=>e.jsx("option",{value:s.id,children:s.title},s.id))]}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-primary rounded border-gray-300 focus:ring-primary",checked:L,onChange:s=>C(s.target.checked)}),e.jsx("span",{className:"ml-2 text-gray-700",children:"Show online-only locations"})]}),e.jsx("button",{onClick:()=>{j(""),o("all"),F("all"),C(!0)},className:"text-primary hover:text-primary-dark font-medium text-sm",children:"Reset Filters"})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:T.map((s,t)=>e.jsxs(c.div,{id:`location-${s.id}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:S===s.id?[1,1.05,1]:1},transition:{duration:.6,delay:t*.1,scale:{duration:.5,repeat:S===s.id?1:0}},className:`bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border ${S===s.id?"border-primary":"border-transparent"}`,children:[s.map_code?e.jsx("div",{className:"h-48 relative",children:e.jsx("iframe",{src:s.map_code,className:"w-full h-full border-0",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`Map of ${s.name}`})}):e.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:e.jsx(X,{className:"text-gray-300 text-5xl"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Z,{className:"text-primary mr-2"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 font-sans",children:s.name})]}),m&&s.latitude&&s.longitude&&e.jsxs("div",{className:"text-sm text-primary font-medium",children:[v(m.lat,m.lng,parseFloat(s.latitude),parseFloat(s.longitude)).toFixed(1)," km away"]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium whitespace-nowrap",children:s.state}),!s.has_physical_location&&e.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium whitespace-nowrap",children:"Online Only"})]})]}),e.jsxs("div",{className:"space-y-4 text-gray-600 font-sans",children:[s.has_physical_location?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(w,{className:"mt-1 mr-3 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{children:s.address}),s.city&&e.jsxs("p",{children:[s.city,s.postal_code?`, ${s.postal_code}`:""]})]})]}),s.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"mr-3 text-primary"}),e.jsx("a",{href:`tel:${s.phone}`,className:"hover:text-primary transition-colors",children:s.phone})]}),s.email&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"mr-3 text-primary"}),e.jsx("a",{href:`mailto:${s.email}`,className:"hover:text-primary transition-colors",children:s.email})]})]}):e.jsx("div",{className:"py-3 px-4 bg-yellow-50 rounded-lg border border-yellow-100",children:e.jsx("p",{className:"text-yellow-800",children:"This location currently has no physical address. Please join us online for services."})}),e.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-100",children:[e.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx(se,{className:"mr-2 text-primary"}),"Regular Services"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-32 flex-shrink-0 font-medium",children:"Wednesday"}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium text-gray-900",children:"Prayer Meeting"}),e.jsx("span",{className:"text-sm text-primary",children:"7:30 AM"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-32 flex-shrink-0 font-medium",children:"Saturday"}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium text-gray-900",children:"Worship Service"}),e.jsx("span",{className:"text-sm text-primary",children:"7:30 AM"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-32 flex-shrink-0 font-medium",children:"Daily"}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-medium text-gray-900",children:"Thanksgiving"}),e.jsx("span",{className:"text-sm text-primary",children:"8:00 PM"})]})]})]})]})]}),s.has_physical_location&&e.jsx("div",{className:"mt-6",children:e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${s.address} ${s.city} ${s.state} Australia`)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full inline-flex items-center justify-center bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-sans",children:[e.jsx(w,{className:"mr-2"}),"Get Directions",e.jsx(ae,{className:"ml-2 text-xs"})]})})]})]},s.id))}),x.length===0&&e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"text-center py-16 bg-white rounded-2xl shadow-lg",children:e.jsxs("div",{className:"mx-auto max-w-md p-6",children:[e.jsx(P,{className:"mx-auto text-gray-300 text-5xl mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Locations Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"No locations match your current search criteria. Try adjusting your filters or search terms."}),e.jsxs("button",{onClick:()=>{j(""),o("all"),F("all"),C(!0)},className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors inline-flex items-center",children:[e.jsx(M,{className:"mr-2"}),"Clear All Filters"]})]})})]})})]})}export{he as default};
