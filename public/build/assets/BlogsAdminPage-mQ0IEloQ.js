import{r as p,j as e,a as A,d as j,y as S}from"./app-D4_0eVNo.js";import{A as D,r as t}from"./AuthenticatedLayout-Bnvef8bj.js";import{M as E}from"./Modal-DhYRAkW6.js";import{I}from"./IconX-Di8Ud-Ph.js";import"./Dropdown-CT1B_BkZ.js";import"./transition-BIE4855n.js";function _({auth:d,posts:u,categories:g,tags:f}){const b=["SN","Post Title","Categories","Tags","Status","Action"],i=u,[y,m]=p.useState(!1),[x,N]=p.useState(""),v=({list:s})=>{const l=s.split(",");return l==null?void 0:l.map(n=>{const a=g.filter(o=>o.id===parseInt(n));return e.jsx("span",{className:"px-2 bg-gray-300 py-2 rounded font-dmsans",children:a[0].title},a[0].id)})},w=({list:s})=>{const l=s.split(",");return l==null?void 0:l.map(n=>{const a=f.filter(o=>o.id===parseInt(n));return e.jsx("span",{className:"px-2 bg-gray-300 py-2 rounded font-dmsans",children:a[0].title},a[0].id)})},T=s=>{N(s),m(!0)},c=()=>{m(!1)},C=()=>{x&&S.delete(route("admin.blogs.delete",x),{onSuccess:()=>{c()}})};return e.jsxs(D,{user:d==null?void 0:d.user,children:[e.jsx(A,{title:"Blogs"}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"p-6 flex justify-between",children:[e.jsx("h1",{className:"font-bold font-xl",children:"Blogs"}),e.jsx(j,{href:route("admin.blogs.add"),children:"Add New"})]}),e.jsx(t.Card,{className:"h-full w-full overflow-scroll rounded-none font-dmsans",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:b.map(s=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"leading-none opacity-70 font-dmsans text-lg font-bold",children:s})},s))})}),e.jsx("tbody",{children:i.map(({id:s,title:l,categories:n,tags:a,status:o},h)=>{const r=h===i.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:r,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:h+1})}),e.jsx("td",{className:r,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:l})}),e.jsx("td",{className:r,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:e.jsx("span",{className:"space-x-2",children:e.jsx(v,{list:n})})})}),e.jsx("td",{className:r,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:e.jsx("span",{className:"space-x-2",children:e.jsx(w,{list:a})})})}),e.jsx("td",{className:r,children:e.jsx(t.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:o})}),e.jsx("td",{className:r,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{href:route("admin.blogs.edit",s),children:"Edit"}),e.jsx("button",{className:"text-red-500 text-sm font-medium",onClick:()=>{T(s)},children:"Delete"})]})})]},s)})})]})})]}),e.jsx(E,{show:y,onClose:c,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative",children:[e.jsx("h1",{className:"font-bold text-3xl text-center",children:"Are you sure ?"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(I,{strokeWidth:1.5,size:38,onClick:c})}),e.jsxs("div",{className:"flex justify-center gap-2 pt-6",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 font-bold rounded",onClick:c,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 font-bold rounded",onClick:C,children:"Confirm"})]})]})})]})}export{_ as default};
