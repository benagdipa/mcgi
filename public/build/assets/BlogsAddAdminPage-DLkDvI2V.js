import{W as S,r,j as e,a as F}from"./app-A3Sm2hlB.js";import{I as d}from"./InputLabel-XTgDs0PB.js";import{T as g,I as c}from"./TextInput-BgmGyAVz.js";import{A}from"./AuthenticatedLayout-daZmC4eI.js";import{E}from"./Editor-B9S-TRZE.js";import"./Dropdown-CjgvZQV4.js";import"./transition-B-c0KS4m.js";function O({auth:o,categories:u,tags:x}){const{data:t,setData:l,post:j,processing:R,errors:i,reset:B}=S({title:"",slug:"",content:"",categories:[],tags:[],featureImage:null,status:""}),h=r.useRef(null),[v,b]=r.useState(""),[L,N]=r.useState(""),f=r.useRef(null);r.useEffect(()=>{const a=(t==null?void 0:t.title).replace(/\s+/g,"-").toLowerCase();l("slug",a)},[t.title]);const w=s=>{f.current.click()},k=s=>{const a=URL.createObjectURL(s.target.files[0]);l("featureImage",s.target.files[0]),N(s.target.files[0].name),b(a)},p=(s,a)=>{const{value:n,checked:I}=a.target;if(I){const m=t[s];l(s,[...m,n])}else{const m=t[s].filter(y=>y!==n);l(s,m)}},C=s=>{s.preventDefault(),j(route("admin.blogs.store"))};return e.jsxs(A,{user:o==null?void 0:o.user,children:[e.jsx(F,{title:"Add New Blogs"}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"p-6 flex justify-between",children:e.jsx("h1",{className:"font-bold font-xl",children:"Add New Blog"})}),e.jsx("div",{className:"form-wrapper px-6",children:e.jsx("div",{className:"max-w-screen-2xl",children:e.jsx("form",{onSubmit:C,children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"w-9/12",children:[e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(d,{value:"Title",className:"mb-1 font-dmsans"}),e.jsx(g,{name:"title",value:t.title,onChange:s=>l("title",s.target.value),className:"w-full rounded-sm font-dmsans placeholder:font-dmsans"}),e.jsx(c,{message:i.title,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(d,{value:"Slug",className:"mb-1 font-dmsans"}),e.jsx(g,{name:"slug",value:t.slug,onChange:s=>l("slug",s.target.value),className:"w-full rounded-sm font-dmsans placeholder:font-dmsans"}),e.jsx(c,{message:i.slug,className:"mt-2"})]}),e.jsxs("div",{className:"form-item",children:[e.jsx(d,{value:"Content",className:"mb-1 font-dmsans"}),e.jsxs("div",{className:"custom-ckeditor",style:{height:"400px"},children:[e.jsx(E,{apiKey:"h9mpgdcvlxaa94b8rwqpagapahot2x6w7urfs0dtyswd2qtj",onInit:(s,a)=>{h.current=a},onChange:()=>l("content",h.current.getContent()),initialValue:t.content,init:{height:800,menubar:!1,plugins:["a11ychecker","advlist","advcode","advtable","autolink","checklist","export","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","powerpaste","fullscreen","formatpainter","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | casechange blocks | bold italic backcolor | image | alignleft aligncenter alignright alignjustify | bullist numlist checklist outdent indent | removeformat | a11ycheck code table help",images_upload_url:"upload.php",automatic_uploads:!1}}),e.jsx(c,{message:i.content,className:"mt-2"})]})]})]}),e.jsx("div",{className:"w-3/12",children:e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"status",children:[e.jsx("div",{className:"status text-xl font-bold mb-2 font-dmsans",children:"Status"}),e.jsxs("select",{name:"status",className:"w-full",value:t.status,onChange:s=>l("status",s.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"publish",children:"Publish"})]}),e.jsx(c,{message:i.status,className:"mt-2"})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"categories",children:[e.jsx("p",{className:"text-xl font-bold mb-3 font-dmsans",children:"Categories"}),e.jsx("div",{className:"categories-items border p-4 rounded",children:u.length&&u.map((s,a)=>e.jsx("div",{className:"",children:e.jsxs("label",{className:"pb-3 block",children:[e.jsx("input",{type:"checkbox",name:"categories[]",value:s.id,className:"rounded w-5 h-5",onChange:n=>p("categories",n)}),e.jsx("span",{className:"pl-2 font-dmsans font-medium",children:s.title})]})},a))})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"tags",children:[e.jsx("p",{className:"text-xl font-bold mb-3 font-dmsans",children:"Tags"}),e.jsx("div",{className:"categories-items border p-4 rounded",children:x.length&&x.map((s,a)=>e.jsx("div",{className:"",children:e.jsxs("label",{className:"pb-3 block",children:[e.jsx("input",{type:"checkbox",name:"tags[]",value:s.id,className:"rounded w-5 h-5",onChange:n=>p("tags",n)}),e.jsx("span",{className:"pl-2 font-dmsans font-medium",children:s.title})]})},a))})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"featured-image",children:[e.jsx("p",{className:"text-xl font-bold mb-3 font-dmsans",children:"Featured Image"}),e.jsxs("div",{className:"categories-items border p-4 rounded",children:[e.jsx("img",{src:v}),e.jsx("input",{type:"file",name:"featureImage",hidden:!0,onChange:k,ref:f,value:""}),e.jsx("a",{className:"bg-transparent cursor-pointer",onClick:w,children:"Set Featured Image"}),e.jsx(c,{message:i.featureImage,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-item",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 font-bold rounded font-dmsans",children:"Submit"})})]})})]})})})})]})]})}export{O as default};
