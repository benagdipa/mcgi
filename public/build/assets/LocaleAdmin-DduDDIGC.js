import{X as B,r as o,G,j as e,S as H,x as w}from"./app-DcU-pHgi.js";import{I as U}from"./InputError-C7fk62VO.js";import{I as X}from"./InputLabel-DjsQ3LyN.js";import{M as S}from"./Modal-DBDAEaT5.js";import{T as q}from"./TextInput-DVTwl0cB.js";import{A as J,i as K}from"./AuthenticatedLayout-YxBYr9wt.js";import{r as n}from"./index-D3gu5DKJ.js";import{R as C}from"./index-gO4NYvJa.js";import"./transition-C-BcvKEz.js";import"./keyboard-BcSRVZMa.js";import"./index-Di9WJGrQ.js";import"./iconBase-8fZdkZtg.js";import"./Dropdown-BEzsTaq8.js";import"./index-C6XVj9fJ.js";import"./index-BarBPuyi.js";import"./index-x9q-pVUo.js";function re({auth:d,locale:r}){const{role:A,permissions:E}=B().props.auth,T=["SN","Name","Actions"],[L,i]=o.useState(!1),[M,h]=o.useState(!1),[k,f]=o.useState(""),[c,u]=o.useState(""),[p,j]=o.useState(""),{data:D,setData:b,post:N,processing:I,errors:_,reset:m,delete:W}=G({title:""}),g=(t,s=0)=>{if(s!==0&&j(s),t==="add")f("Add New"),u("_add");else if(t==="edit"){const l=r.filter(v=>v.id===s);b({...l[0]}),f("Edit"),u("_edit")}i(!0)},y=()=>{i(!1),m()},F=t=>{t.preventDefault(),c==="_add"?N(route("admin.locale.store"),{preserveScroll:!0,onSuccess:()=>{m(),i(!1)}}):c==="_edit"&&N(route("admin.locale.update",p),{onSuccess:()=>{m(),i(!1)}})},R=t=>{j(t),h(!0)},a=()=>{h(!1)},z=()=>{p&&W(route("admin.locale.delete",p),{onSuccess:()=>{a()}})};return e.jsxs(J,{user:d==null?void 0:d.user,children:[e.jsx(H,{title:"Locale"}),e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsxs("div",{className:"content-header px-6 flex justify-between items-center",children:[e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Locale"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(w,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(w,{href:route("admin.locale.index"),children:"Locale"})})]})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"bg-[#f5cd06] shadow-lg text-[#0f0f0f] px-5 py-3 rounded-md font-semibold text-lg font-poppins",onClick:()=>{g("add")},children:"Add New"})})]}),e.jsx("div",{className:"page-content pt-8",children:e.jsx(n.Card,{className:"h-full w-full overflow-scroll rounded-none font-poppins",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left font-poppins",children:[e.jsx("thead",{children:e.jsx("tr",{children:T.map(t=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:e.jsx(n.Typography,{className:"font-semibold text-lg leading-none opacity-70 font-poppins",children:t})},t))})}),e.jsx("tbody",{children:r.map(({id:t,title:s},l)=>{const x=l===r.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:x,children:e.jsx(n.Typography,{className:"font-medium font-poppins",children:l+1})}),e.jsx("td",{className:x,children:e.jsx(n.Typography,{className:"font-medium font-poppins",children:s})}),e.jsx("td",{className:x,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-0 text-sm font-medium font-poppins",onClick:()=>{g("edit",t)},children:"Edit"}),K(E,["delete_locale"],A)&&e.jsx("button",{className:"text-red-500 px-0 text-sm font-medium font-poppins",onClick:()=>{R(t)},children:"Delete"})]})})]},l)})})]})})})]}),e.jsx(S,{show:L,onClose:y,maxWidth:"2xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsxs("h1",{className:"font-bold text-2xl font-poppins",children:[k," Locale"]}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(C,{strokeWidth:1.5,size:38,onClick:y})}),e.jsx("div",{className:"modal-content pt-6",children:e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(X,{value:"Title",className:"mb-1 font-poppins font-semibold"}),e.jsx(q,{id:"title",type:"text",name:"title",className:"w-full rounded-md font-poppins",placeholder:"Locale Title...",onChange:t=>b("title",t.target.value),value:D.title}),e.jsx(U,{message:_.title,className:"mt-2"})]}),e.jsx("input",{type:"hidden",name:"type",value:c}),e.jsx("div",{className:"font-item mb-4 text-right",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 font-poppins rounded-sm font-bold",disabled:I,children:"Submit"})})]})})]})}),e.jsx(S,{show:M,onClose:a,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsx("h1",{className:"font-bold text-3xl text-center",children:"Are you sure ?"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(C,{strokeWidth:1.5,size:38,onClick:a})}),e.jsxs("div",{className:"flex justify-center gap-2 pt-6",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-3 font-semibold rounded",onClick:a,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-3 font-semibold rounded",onClick:z,children:"Confirm"})]})]})})]})}export{re as default};
