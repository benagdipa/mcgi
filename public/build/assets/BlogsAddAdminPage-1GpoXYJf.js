import{G as ae,r as T,j as e,A as z,S as ie}from"./app-CZB67pLA.js";import{A as ne}from"./AuthenticatedLayout-CTiBoJZR.js";import{T as se,v as le,G as ce,m as de,s as ue,c as me}from"./convertToHtml-BFzpexCS.js";import{I as M}from"./InputLabel-CONzCScq.js";import{I as O}from"./InputError-DWlMSzPF.js";import{T as A}from"./TextInput-D_I-lbPe.js";import{C as D}from"./Card-CwiT9xHf.js";import{B as V}from"./Badge-CH-5IrWk.js";import{P as G}from"./PrimaryButton-C-e7dtPz.js";import{S as W}from"./SecondaryButton-BcKaGgLz.js";import{y as pe,o as he,I as fe,J as ge,K as ye,q as xe,L as K,M as ve,N as be,O as we}from"./index-Bc1sA33s.js";import{F as je}from"./material_blue-D-Ekodza.js";import{$ as P}from"./tabs-QzUZe05i.js";import"./index-DBc7mDRn.js";import"./index-BarBPuyi.js";import"./index-BykJh5iJ.js";import"./index-4vUVBD-h.js";import"./iconBase-x3SJZAWa.js";import"./Dropdown-Cq0s5oFs.js";import"./transition-BI-e7dbj.js";import"./index-BzTjil2A.js";import"./keyboard-CPVUawMx.js";(function(){try{if(typeof document<"u"){var _=document.createElement("style");_.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption{display:none}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image{display:none}.image-tool--empty .image-tool__caption,.image-tool--uploading .image-tool__caption{display:none!important}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--uploading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--uploading .image-tool__image-picture,.image-tool--uploading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}.image-tool--caption .image-tool__caption{display:block}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(_)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const ke='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',_e='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',Y='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',Ne='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',Ce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function R(_,n=null,s={}){const l=document.createElement(_);Array.isArray(n)?l.classList.add(...n):n!==null&&l.classList.add(n);for(const t in s)s.hasOwnProperty(t)&&(l[t]=s[t]);return l}var U=(_=>(_.Empty="empty",_.Uploading="uploading",_.Filled="filled",_))(U||{});class Se{constructor({api:n,config:s,onSelectFile:l,readOnly:t}){this.api=n,this.config=s,this.onSelectFile=l,this.readOnly=t,this.nodes={wrapper:R("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:R("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:R("div",this.CSS.imagePreloader),caption:R("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(n,s){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${n}`,s)}render(n){return n.file===void 0||Object.keys(n.file).length===0?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(n){this.nodes.imagePreloader.style.backgroundImage=`url(${n})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(n){const s=/\.mp4$/.test(n)?"VIDEO":"IMG",l={src:n};let t="load";s==="VIDEO"&&(l.autoplay=!0,l.loop=!0,l.muted=!0,l.playsinline=!0,t="loadeddata"),this.nodes.imageEl=R(s,this.CSS.imageEl,l),this.nodes.imageEl.addEventListener(t,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(n){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=n)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const n=R("div",[this.CSS.button]);return n.innerHTML=this.config.buttonContent??`${Y} ${this.api.i18n.t("Select an Image")}`,n.addEventListener("click",()=>{this.onSelectFile()}),n}toggleStatus(n){for(const s in U)Object.prototype.hasOwnProperty.call(U,s)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${U[s]}`,n===U[s])}}function Ee(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var Q={exports:{}};(function(_,n){(function(s,l){_.exports=l()})(window,function(){return function(s){var l={};function t(o){if(l[o])return l[o].exports;var i=l[o]={i:o,l:!1,exports:{}};return s[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=s,t.c=l,t.d=function(o,i,p){t.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:p})},t.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.t=function(o,i){if(1&i&&(o=t(o)),8&i||4&i&&typeof o=="object"&&o&&o.__esModule)return o;var p=Object.create(null);if(t.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:o}),2&i&&typeof o!="string")for(var y in o)t.d(p,y,(function(m){return o[m]}).bind(null,y));return p},t.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(i,"a",i),i},t.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},t.p="",t(t.s=3)}([function(s,l){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}s.exports=t},function(s,l,t){(function(o){var i=t(2),p=setTimeout;function y(){}function m(a){if(!(this instanceof m))throw new TypeError("Promises must be constructed via new");if(typeof a!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],r(a,this)}function f(a,d){for(;a._state===3;)a=a._value;a._state!==0?(a._handled=!0,m._immediateFn(function(){var u=a._state===1?d.onFulfilled:d.onRejected;if(u!==null){var b;try{b=u(a._value)}catch(x){return void v(d.promise,x)}h(d.promise,b)}else(a._state===1?h:v)(d.promise,a._value)})):a._deferreds.push(d)}function h(a,d){try{if(d===a)throw new TypeError("A promise cannot be resolved with itself.");if(d&&(typeof d=="object"||typeof d=="function")){var u=d.then;if(d instanceof m)return a._state=3,a._value=d,void w(a);if(typeof u=="function")return void r((b=u,x=d,function(){b.apply(x,arguments)}),a)}a._state=1,a._value=d,w(a)}catch(g){v(a,g)}var b,x}function v(a,d){a._state=2,a._value=d,w(a)}function w(a){a._state===2&&a._deferreds.length===0&&m._immediateFn(function(){a._handled||m._unhandledRejectionFn(a._value)});for(var d=0,u=a._deferreds.length;d<u;d++)f(a,a._deferreds[d]);a._deferreds=null}function j(a,d,u){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof d=="function"?d:null,this.promise=u}function r(a,d){var u=!1;try{a(function(b){u||(u=!0,h(d,b))},function(b){u||(u=!0,v(d,b))})}catch(b){if(u)return;u=!0,v(d,b)}}m.prototype.catch=function(a){return this.then(null,a)},m.prototype.then=function(a,d){var u=new this.constructor(y);return f(this,new j(a,d,u)),u},m.prototype.finally=i.a,m.all=function(a){return new m(function(d,u){if(!a||a.length===void 0)throw new TypeError("Promise.all accepts an array");var b=Array.prototype.slice.call(a);if(b.length===0)return d([]);var x=b.length;function g(E,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var F=C.then;if(typeof F=="function")return void F.call(C,function(B){g(E,B)},u)}b[E]=C,--x==0&&d(b)}catch(B){u(B)}}for(var k=0;k<b.length;k++)g(k,b[k])})},m.resolve=function(a){return a&&typeof a=="object"&&a.constructor===m?a:new m(function(d){d(a)})},m.reject=function(a){return new m(function(d,u){u(a)})},m.race=function(a){return new m(function(d,u){for(var b=0,x=a.length;b<x;b++)a[b].then(d,u)})},m._immediateFn=typeof o=="function"&&function(a){o(a)}||function(a){p(a,0)},m._unhandledRejectionFn=function(a){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},l.a=m}).call(this,t(5).setImmediate)},function(s,l,t){l.a=function(o){var i=this.constructor;return this.then(function(p){return i.resolve(o()).then(function(){return p})},function(p){return i.resolve(o()).then(function(){return i.reject(p)})})}},function(s,l,t){function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}t(4);var i,p,y,m,f,h,v,w=t(8),j=(p=function(r){return new Promise(function(a,d){r=m(r),(r=f(r)).beforeSend&&r.beforeSend();var u=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");u.open(r.method,r.url),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r.headers).forEach(function(x){var g=r.headers[x];u.setRequestHeader(x,g)});var b=r.ratio;u.upload.addEventListener("progress",function(x){var g=Math.round(x.loaded/x.total*100),k=Math.ceil(g*b/100);r.progress(Math.min(k,100))},!1),u.addEventListener("progress",function(x){var g=Math.round(x.loaded/x.total*100),k=Math.ceil(g*(100-b)/100)+b;r.progress(Math.min(k,100))},!1),u.onreadystatechange=function(){if(u.readyState===4){var x=u.response;try{x=JSON.parse(x)}catch{}var g=w.parseHeaders(u.getAllResponseHeaders()),k={body:x,code:u.status,headers:g};v(u.status)?a(k):d(k)}},u.send(r.data)})},y=function(r){return r.method="POST",p(r)},m=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.url&&typeof r.url!="string")throw new Error("Url must be a string");if(r.url=r.url||"",r.method&&typeof r.method!="string")throw new Error("`method` must be a string or null");if(r.method=r.method?r.method.toUpperCase():"GET",r.headers&&o(r.headers)!=="object")throw new Error("`headers` must be an object or null");if(r.headers=r.headers||{},r.type&&(typeof r.type!="string"||!Object.values(i).includes(r.type)))throw new Error("`type` must be taken from module's «contentType» library");if(r.progress&&typeof r.progress!="function")throw new Error("`progress` must be a function or null");if(r.progress=r.progress||function(a){},r.beforeSend=r.beforeSend||function(a){},r.ratio&&typeof r.ratio!="number")throw new Error("`ratio` must be a number");if(r.ratio<0||r.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(r.ratio=r.ratio||90,r.accept&&typeof r.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(r.accept=r.accept||"*/*",r.multiple&&typeof r.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(r.multiple=r.multiple||!1,r.fieldName&&typeof r.fieldName!="string")throw new Error("`fieldName` must be a string");return r.fieldName=r.fieldName||"files",r},f=function(r){switch(r.method){case"GET":var a=h(r.data,i.URLENCODED);delete r.data,r.url=/\?/.test(r.url)?r.url+"&"+a:r.url+"?"+a;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var d=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||i.JSON}(r);(w.isFormData(r.data)||w.isFormElement(r.data))&&(d=i.FORM),r.data=h(r.data,d),d!==j.contentType.FORM&&(r.headers["content-type"]=d)}return r},h=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case i.URLENCODED:return w.urlEncode(r);case i.JSON:return w.jsonEncode(r);case i.FORM:return w.formEncode(r);default:return r}},v=function(r){return r>=200&&r<300},{contentType:i={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:p,get:function(r){return r.method="GET",p(r)},post:y,transport:function(r){return r=m(r),w.selectFiles(r).then(function(a){for(var d=new FormData,u=0;u<a.length;u++)d.append(r.fieldName,a[u],a[u].name);w.isObject(r.data)&&Object.keys(r.data).forEach(function(x){var g=r.data[x];d.append(x,g)});var b=r.beforeSend;return r.beforeSend=function(){return b(a)},r.data=d,y(r)})},selectFiles:function(r){return delete(r=m(r)).beforeSend,w.selectFiles(r)}});s.exports=j},function(s,l,t){t.r(l);var o=t(1);window.Promise=window.Promise||o.a},function(s,l,t){(function(o){var i=o!==void 0&&o||typeof self<"u"&&self||window,p=Function.prototype.apply;function y(m,f){this._id=m,this._clearFn=f}l.setTimeout=function(){return new y(p.call(setTimeout,i,arguments),clearTimeout)},l.setInterval=function(){return new y(p.call(setInterval,i,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(m){m&&m.close()},y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(i,this._id)},l.enroll=function(m,f){clearTimeout(m._idleTimeoutId),m._idleTimeout=f},l.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},l._unrefActive=l.active=function(m){clearTimeout(m._idleTimeoutId);var f=m._idleTimeout;f>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},f))},t(6),l.setImmediate=typeof self<"u"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,l.clearImmediate=typeof self<"u"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,t(0))},function(s,l,t){(function(o,i){(function(p,y){if(!p.setImmediate){var m,f,h,v,w,j=1,r={},a=!1,d=p.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(p);u=u&&u.setTimeout?u:p,{}.toString.call(p.process)==="[object process]"?m=function(g){i.nextTick(function(){x(g)})}:function(){if(p.postMessage&&!p.importScripts){var g=!0,k=p.onmessage;return p.onmessage=function(){g=!1},p.postMessage("","*"),p.onmessage=k,g}}()?(v="setImmediate$"+Math.random()+"$",w=function(g){g.source===p&&typeof g.data=="string"&&g.data.indexOf(v)===0&&x(+g.data.slice(v.length))},p.addEventListener?p.addEventListener("message",w,!1):p.attachEvent("onmessage",w),m=function(g){p.postMessage(v+g,"*")}):p.MessageChannel?((h=new MessageChannel).port1.onmessage=function(g){x(g.data)},m=function(g){h.port2.postMessage(g)}):d&&"onreadystatechange"in d.createElement("script")?(f=d.documentElement,m=function(g){var k=d.createElement("script");k.onreadystatechange=function(){x(g),k.onreadystatechange=null,f.removeChild(k),k=null},f.appendChild(k)}):m=function(g){setTimeout(x,0,g)},u.setImmediate=function(g){typeof g!="function"&&(g=new Function(""+g));for(var k=new Array(arguments.length-1),E=0;E<k.length;E++)k[E]=arguments[E+1];var C={callback:g,args:k};return r[j]=C,m(j),j++},u.clearImmediate=b}function b(g){delete r[g]}function x(g){if(a)setTimeout(x,0,g);else{var k=r[g];if(k){a=!0;try{(function(E){var C=E.callback,F=E.args;switch(F.length){case 0:C();break;case 1:C(F[0]);break;case 2:C(F[0],F[1]);break;case 3:C(F[0],F[1],F[2]);break;default:C.apply(y,F)}})(k)}finally{b(g),a=!1}}}}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,t(0),t(7))},function(s,l){var t,o,i=s.exports={};function p(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function m(u){if(t===setTimeout)return setTimeout(u,0);if((t===p||!t)&&setTimeout)return t=setTimeout,setTimeout(u,0);try{return t(u,0)}catch{try{return t.call(null,u,0)}catch{return t.call(this,u,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:p}catch{t=p}try{o=typeof clearTimeout=="function"?clearTimeout:y}catch{o=y}})();var f,h=[],v=!1,w=-1;function j(){v&&f&&(v=!1,f.length?h=f.concat(h):w=-1,h.length&&r())}function r(){if(!v){var u=m(j);v=!0;for(var b=h.length;b;){for(f=h,h=[];++w<b;)f&&f[w].run();w=-1,b=h.length}f=null,v=!1,function(x){if(o===clearTimeout)return clearTimeout(x);if((o===y||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}(u)}}function a(u,b){this.fun=u,this.array=b}function d(){}i.nextTick=function(u){var b=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)b[x-1]=arguments[x];h.push(new a(u,b)),h.length!==1||v||m(r)},a.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(u){return[]},i.binding=function(u){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(u){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(s,l,t){function o(p,y){for(var m=0;m<y.length;m++){var f=y[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}var i=t(9);s.exports=function(){function p(){(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,p)}var y,m,f;return y=p,f=[{key:"urlEncode",value:function(h){return i(h)}},{key:"jsonEncode",value:function(h){return JSON.stringify(h)}},{key:"formEncode",value:function(h){if(this.isFormData(h))return h;if(this.isFormElement(h))return new FormData(h);if(this.isObject(h)){var v=new FormData;return Object.keys(h).forEach(function(w){var j=h[w];v.append(w,j)}),v}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(h){return Object.prototype.toString.call(h)==="[object Object]"}},{key:"isFormData",value:function(h){return h instanceof FormData}},{key:"isFormElement",value:function(h){return h instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(v,w){var j=document.createElement("INPUT");j.type="file",h.multiple&&j.setAttribute("multiple","multiple"),h.accept&&j.setAttribute("accept",h.accept),j.style.display="none",document.body.appendChild(j),j.addEventListener("change",function(r){var a=r.target.files;v(a),document.body.removeChild(j)},!1),j.click()})}},{key:"parseHeaders",value:function(h){var v=h.trim().split(/[\r\n]+/),w={};return v.forEach(function(j){var r=j.split(": "),a=r.shift(),d=r.join(": ");a&&(w[a]=d)}),w}}],(m=null)&&o(y.prototype,m),f&&o(y,f),p}()},function(s,l){var t=function(i){return encodeURIComponent(i).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(i,p,y,m){return p=p||null,y=y||"&",m=m||null,i?function(f){for(var h=new Array,v=0;v<f.length;v++)f[v]&&h.push(f[v]);return h}(Object.keys(i).map(function(f){var h,v,w=f;if(m&&(w=m+"["+w+"]"),typeof i[f]=="object"&&i[f]!==null)h=o(i[f],null,y,w);else{p&&(v=w,w=!isNaN(parseFloat(v))&&isFinite(v)?p+Number(w):w);var j=i[f];j=(j=(j=(j=j===!0?"1":j)===!1?"0":j)===0?"0":j)||"",h=t(w)+"="+t(j)}return h})).join(y).replace(/[!'()*]/g,""):""};s.exports=o}])})})(Q);var Fe=Q.exports;const H=Ee(Fe);function J(_){return _!==void 0&&typeof _.then=="function"}class Te{constructor({config:n,onUpload:s,onError:l}){this.config=n,this.onUpload=s,this.onError=l}uploadSelectedFile({onPreview:n}){const s=function(t){const o=new FileReader;o.readAsDataURL(t),o.onload=i=>{n(i.target.result)}};let l;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const t=this.config.uploader.uploadByFile;l=H.selectFiles({accept:this.config.types??"image/*"}).then(o=>{s(o[0]);const i=t(o[0]);return J(i)||console.warn("Custom uploader method uploadByFile should return a Promise"),i})}else l=H.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:t=>{s(t[0])},fieldName:this.config.field??"image"}).then(t=>t.body);l.then(t=>{this.onUpload(t)}).catch(t=>{this.onError(t)})}uploadByUrl(n){let s;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(s=this.config.uploader.uploadByUrl(n),J(s)||console.warn("Custom uploader method uploadByUrl should return a Promise")):s=H.post({url:this.config.endpoints.byUrl,data:Object.assign({url:n},this.config.additionalRequestData),type:H.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(l=>l.body),s.then(l=>{this.onUpload(l)}).catch(l=>{this.onError(l)})}uploadByFile(n,{onPreview:s}){const l=new FileReader;l.readAsDataURL(n),l.onload=o=>{s(o.target.result)};let t;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")t=this.config.uploader.uploadByFile(n),J(t)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const o=new FormData;o.append(this.config.field??"image",n),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([i,p])=>{o.append(i,p)}),t=H.post({url:this.config.endpoints.byFile,data:o,type:H.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(i=>i.body)}t.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}}/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts — main Tool's interface, public API and methods for working with data
 *  2) uploader.ts — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts — module for UI manipulations: render, showing preloader, etc
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */class q{constructor({data:n,config:s,api:l,readOnly:t,block:o}){this.api=l,this.block=o,this.config={endpoints:s.endpoints,additionalRequestData:s.additionalRequestData,additionalRequestHeaders:s.additionalRequestHeaders,field:s.field,types:s.types,captionPlaceholder:this.api.i18n.t(s.captionPlaceholder??"Caption"),buttonContent:s.buttonContent,uploader:s.uploader,actions:s.actions,features:s.features||{}},this.uploader=new Te({config:this.config,onUpload:i=>this.onUpload(i),onError:i=>this.uploadingFailed(i)}),this.ui=new Se({api:l,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:i=>{this.ui.showPreloader(i)}})},readOnly:t}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=n}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Y,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:_e,title:"With border",toggle:!0},{name:"stretched",icon:Ne,title:"Stretch image",toggle:!0},{name:"withBackground",icon:ke,title:"With background",toggle:!0}]}render(){var n,s,l;return(((n=this.config.features)==null?void 0:n.caption)===!0||((s=this.config.features)==null?void 0:s.caption)===void 0||((l=this.config.features)==null?void 0:l.caption)==="optional"&&this.data.caption)&&this.ui.applyTune("caption",!0),this.ui.render(this.data)}validate(n){return!!n.file.url}save(){const n=this.ui.nodes.caption;return this._data.caption=n.innerHTML,this.data}renderSettings(){var n;const s=q.tunes.concat(this.config.actions||[]),l={border:"withBorder",background:"withBackground",stretch:"stretched",caption:"caption"};return((n=this.config.features)==null?void 0:n.caption)==="optional"&&s.push({name:"caption",icon:Ce,title:"With caption",toggle:!0}),s.filter(t=>{var o,i;const p=Object.keys(l).find(y=>l[y]===t.name);return p==="caption"?((o=this.config.features)==null?void 0:o.caption)!==!1:p==null||((i=this.config.features)==null?void 0:i[p])!==!1}).map(t=>({icon:t.icon,label:this.api.i18n.t(t.title),name:t.name,toggle:t.toggle,isActive:this.data[t.name],onActivate:()=>{if(typeof t.action=="function"){t.action(t.name);return}this.tuneToggled(t.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(n){switch(n.type){case"tag":{const s=n.detail.data;if(/^blob:/.test(s.src)){const l=await(await fetch(s.src)).blob();this.uploadFile(l);break}this.uploadUrl(s.src);break}case"pattern":{const s=n.detail.data;this.uploadUrl(s);break}case"file":{const s=n.detail.file;this.uploadFile(s);break}}}set data(n){this.image=n.file,this._data.caption=n.caption||"",this.ui.fillCaption(this._data.caption),q.tunes.forEach(({name:s})=>{const l=typeof n[s]<"u"?n[s]===!0||n[s]==="true":!1;this.setTune(s,l)})}get data(){return this._data}set image(n){this._data.file=n||{url:""},n&&n.url&&this.ui.fillImage(n.url)}onUpload(n){n.success&&n.file?this.image=n.file:this.uploadingFailed("incorrect response: "+JSON.stringify(n))}uploadingFailed(n){console.log("Image Tool: uploading failed because of",n),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(n){this.setTune(n,!this._data[n]),n==="caption"&&!this._data[n]&&(this._data.caption="",this.ui.fillCaption(""))}setTune(n,s){this._data[n]=s,this.ui.applyTune(n,s),n==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=s}).catch(l=>{console.error(l)})}uploadFile(n){this.uploader.uploadByFile(n,{onPreview:s=>{this.ui.showPreloader(s)}})}uploadUrl(n){this.ui.showPreloader(n),this.uploader.uploadByUrl(n)}}function Ze({auth:_,categories:n,tags:s,csrf_token:l}){const{data:t,setData:o,post:i,processing:p,errors:y,reset:m}=ae({title:"",content:"",slug:"",categories:[],tags:[],featureImage:null,status:"draft",excerpt:"",meta_title:"",meta_description:"",seo_keywords:"",is_featured:!1,allow_comments:!0,published_at:new Date}),[f,h]=T.useState(""),[v,w]=T.useState(""),j=T.useRef(null),r=T.useRef(null),[a,d]=T.useState(""),[u,b]=T.useState(0),[x,g]=T.useState(!1),[k,E]=T.useState(!1),C=c=>{const N=c.target.value;if(o("title",N),!t.slug||t.slug===t.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-")){const S=N.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-");o("slug",S)}t.meta_title||o("meta_title",N)},F=()=>{j.current=new se({holder:"editorjs",tools:{header:le,list:ce,embed:de,inlineCode:ue,image:{class:q,config:{endpoints:{byFile:route("admin.blogs.tempImg"),byUrl:route("admin.blogs.tempImgUrl")},additionalRequestHeaders:{"X-CSRF-TOKEN":l}}}},onChange:async()=>{const c=await j.current.save(),N=me(c,f);if(h(N),!t.excerpt){const S=B(c);if(S){const L=S.substring(0,250);o("excerpt",L),t.meta_description||o("meta_description",L)}}},placeholder:"Start writing your blog here..."})},B=c=>{if(!c||!c.blocks)return"";let N="";return c.blocks.forEach(S=>{S.type==="paragraph"||S.type==="header"?N+=S.data.text+" ":S.type==="list"&&S.data.items.forEach(L=>{N+=L+" "})}),N.trim()};T.useEffect(()=>{o("content",f)},[f]),T.useEffect(()=>(F(),()=>{j.current&&(j.current.destroy(),j.current=null)}),[]),T.useEffect(()=>{t.status==="scheduled"?g(!0):g(!1)},[t.status]);const Z=async c=>{c.preventDefault(),i(route("admin.blogs.store"))},X=(c,N)=>{const{value:S,checked:L}=N.target;if(L){const $=t[c];o(c,[...$,S])}else{const $=t[c].filter(oe=>oe!==S);o(c,$)}},ee=c=>{r.current.click()},te=c=>{const N=URL.createObjectURL(c.target.files[0]);o("featureImage",c.target.files[0]),d(c.target.files[0].name),w(N)},re=c=>{o("published_at",c[0])},I={base:"py-2.5 px-4 rounded-lg text-sm font-medium transition-all duration-200 focus:outline-none",selected:"bg-primary text-white shadow",notSelected:"text-gray-500 hover:bg-gray-100 hover:text-gray-700"};return e.jsxs(ne,{user:_.user,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Create New Blog Post"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(W,{onClick:()=>z.visit(route("admin.blogs.index")),children:[e.jsx(pe,{className:"mr-2"})," Back"]}),e.jsxs(G,{onClick:()=>E(!k),children:[e.jsx(he,{className:"mr-2"})," ",k?"Edit":"Preview"]})]})]}),children:[e.jsx(ie,{title:"Add New Blog"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:k?e.jsxs("div",{className:"space-y-8",children:[e.jsxs(D,{className:"relative",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(V,{color:"primary",variant:"soft",children:"Preview Mode"})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:t.title||"Post Title"}),v?e.jsx("div",{className:"w-full h-72 overflow-hidden rounded-lg mb-6",children:e.jsx("img",{src:v,alt:t.title,className:"w-full h-full object-cover"})}):e.jsx("div",{className:"w-full h-72 bg-gray-200 rounded-lg mb-6 flex items-center justify-center",children:e.jsx(K,{className:"text-gray-400 h-12 w-12"})}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[t.categories.length>0&&n.filter(c=>t.categories.includes(c.id.toString())).map(c=>e.jsx(V,{color:"primary",variant:"soft",children:c.title},c.id)),t.tags.length>0&&s.filter(c=>t.tags.includes(c.id.toString())).map(c=>e.jsx(V,{color:"secondary",variant:"light",children:c.title},c.id))]})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content||"<p>Start writing your blog content...</p>"}})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(G,{onClick:()=>E(!1),children:"Return to Editor"})})]}):e.jsx("div",{className:"bg-white shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:Z,children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 p-6",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs(D,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(M,{htmlFor:"title",value:"Title"}),e.jsx(A,{id:"title",className:"mt-1 block w-full text-xl",value:t.title,onChange:C,placeholder:"Enter blog title",autoFocus:!0}),e.jsx(O,{message:y.title,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(M,{htmlFor:"slug",value:"Slug"}),e.jsx(A,{id:"slug",className:"mt-1 block w-full",value:t.slug,onChange:c=>o("slug",c.target.value),placeholder:"enter-post-slug"}),e.jsx(O,{message:y.slug,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(M,{value:"Content"}),e.jsx("div",{className:"mt-1 rounded-md border min-h-80",children:e.jsx("div",{id:"editorjs",className:"prose max-w-none p-4"})}),e.jsx(O,{message:y.content,className:"mt-2"})]})]}),e.jsx(D,{children:e.jsxs(P.Group,{selectedIndex:u,onChange:b,children:[e.jsxs(P.List,{className:"flex space-x-2 mb-4 border-b pb-1",children:[e.jsx(P,{className:({selected:c})=>`${I.base} ${c?I.selected:I.notSelected}`,children:"Excerpt & Settings"}),e.jsxs(P,{className:({selected:c})=>`${I.base} ${c?I.selected:I.notSelected}`,children:[e.jsx(fe,{className:"inline mr-1"})," SEO"]})]}),e.jsxs(P.Panels,{children:[e.jsx(P.Panel,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"excerpt",value:"Excerpt"}),e.jsx("textarea",{id:"excerpt",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50",value:t.excerpt,onChange:c=>o("excerpt",c.target.value),placeholder:"A brief summary of your post",rows:3}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Displayed on blog listing pages. If empty, it will be generated from content."}),e.jsx(O,{message:y.excerpt,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_featured",type:"checkbox",className:"rounded border-gray-300 text-primary shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50",checked:t.is_featured,onChange:c=>o("is_featured",c.target.checked)}),e.jsxs("label",{htmlFor:"is_featured",className:"ml-2 text-sm text-gray-700 flex items-center",children:[e.jsx(ge,{className:"text-yellow-500 mr-1"})," Feature this post"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"allow_comments",type:"checkbox",className:"rounded border-gray-300 text-primary shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50",checked:t.allow_comments,onChange:c=>o("allow_comments",c.target.checked)}),e.jsxs("label",{htmlFor:"allow_comments",className:"ml-2 text-sm text-gray-700 flex items-center",children:[e.jsx(ye,{className:"text-gray-500 mr-1"})," Allow comments"]})]})]})]})}),e.jsx(P.Panel,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"meta_title",value:"Meta Title"}),e.jsx(A,{id:"meta_title",className:"mt-1 block w-full",value:t.meta_title,onChange:c=>o("meta_title",c.target.value),placeholder:"SEO Title (defaults to post title)"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.meta_title.length," / 60 characters"]}),e.jsx(O,{message:y.meta_title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"meta_description",value:"Meta Description"}),e.jsx("textarea",{id:"meta_description",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50",value:t.meta_description,onChange:c=>o("meta_description",c.target.value),placeholder:"SEO Description (defaults to excerpt)",rows:3}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.meta_description.length," / 160 characters"]}),e.jsx(O,{message:y.meta_description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"seo_keywords",value:"SEO Keywords"}),e.jsx(A,{id:"seo_keywords",className:"mt-1 block w-full",value:t.seo_keywords,onChange:c=>o("seo_keywords",c.target.value),placeholder:"keyword1, keyword2, keyword3"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Comma-separated keywords for search engines"}),e.jsx(O,{message:y.seo_keywords,className:"mt-2"})]})]})})]})]})})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(D,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(M,{value:"Publication Status"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"draft",name:"status",type:"radio",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300",value:"draft",checked:t.status==="draft",onChange:c=>o("status",c.target.value)}),e.jsx("label",{htmlFor:"draft",className:"ml-3 block text-sm font-medium text-gray-700",children:"Draft"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"publish",name:"status",type:"radio",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300",value:"published",checked:t.status==="published",onChange:c=>o("status",c.target.value)}),e.jsx("label",{htmlFor:"publish",className:"ml-3 block text-sm font-medium text-gray-700",children:"Publish immediately"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"schedule",name:"status",type:"radio",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300",value:"scheduled",checked:t.status==="scheduled",onChange:c=>o("status",c.target.value)}),e.jsx("label",{htmlFor:"schedule",className:"ml-3 block text-sm font-medium text-gray-700",children:"Schedule for later"})]}),x&&e.jsx("div",{className:"ml-7 mt-2",children:e.jsxs("div",{className:"flex items-center border rounded-md overflow-hidden",children:[e.jsx("div",{className:"bg-gray-100 p-2 text-gray-500",children:e.jsx(xe,{})}),e.jsx(je,{value:t.published_at,onChange:re,options:{enableTime:!0,dateFormat:"Y-m-d H:i",minDate:"today"},className:"w-full border-0 focus:ring-0 focus:outline-none p-2"})]})})]}),e.jsx(O,{message:y.status,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(M,{value:"Featured Image"}),e.jsxs("div",{className:"mt-2 border-2 border-dashed rounded-md p-4 text-center cursor-pointer hover:bg-gray-50 transition-colors",onClick:ee,children:[v?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:v,alt:"Preview",className:"w-full h-auto rounded-md"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 opacity-0 hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-white text-sm font-medium px-2 py-1 rounded bg-black bg-opacity-75",children:"Change Image"})})]}):e.jsxs("div",{className:"py-4",children:[e.jsx(K,{className:"mx-auto h-12 w-12 text-gray-300"}),e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"Click to upload an image"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG, JPEG up to 5MB"})]}),e.jsx("input",{ref:r,type:"file",className:"hidden",onChange:te,accept:"image/png, image/jpeg, image/jpg"})]}),a&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Selected: ",a]}),e.jsx(O,{message:y.featureImage,className:"mt-2"})]})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"text-gray-400 mr-2"}),e.jsx(M,{value:"Categories",className:"mb-0"})]}),e.jsxs("div",{className:"mt-2 max-h-52 overflow-y-auto border rounded-md p-3",children:[n.map(c=>e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx("input",{type:"checkbox",id:`category-${c.id}`,value:c.id,className:"mt-1 rounded border-gray-300 text-primary focus:ring-primary",onChange:N=>X("categories",N),checked:t.categories.includes(c.id.toString())}),e.jsx("label",{htmlFor:`category-${c.id}`,className:"ml-2 text-sm text-gray-700",children:c.title})]},c.id)),n.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No categories found"})]}),e.jsx(O,{message:y.categories,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"text-gray-400 mr-2"}),e.jsx(M,{value:"Tags",className:"mb-0"})]}),e.jsxs("div",{className:"mt-2 max-h-52 overflow-y-auto border rounded-md p-3",children:[s.map(c=>e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx("input",{type:"checkbox",id:`tag-${c.id}`,value:c.id,className:"mt-1 rounded border-gray-300 text-primary focus:ring-primary",onChange:N=>X("tags",N),checked:t.tags.includes(c.id.toString())}),e.jsx("label",{htmlFor:`tag-${c.id}`,className:"ml-2 text-sm text-gray-700",children:c.title})]},c.id)),s.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No tags found"})]}),e.jsx(O,{message:y.tags,className:"mt-2"})]})]})]})]}),e.jsxs("div",{className:"py-4 px-6 border-t bg-gray-50 flex justify-end space-x-2",children:[e.jsx(W,{type:"button",onClick:()=>z.visit(route("admin.blogs.index")),children:"Cancel"}),e.jsxs(G,{type:"submit",processing:p,className:"gap-1",children:[e.jsx(we,{})," Save ",t.status==="draft"?"Draft":t.status==="scheduled"?"Schedule":"Publish"]})]})]})})})})]})}export{Ze as default};
