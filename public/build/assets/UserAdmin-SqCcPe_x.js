import{W as X,r as p,j as e,a as q,d as M,y as G}from"./app-hWiRXtf_.js";import{A as J}from"./AuthenticatedLayout-Ct5uvMH9.js";import{r as d}from"./index-2gZOxikt.js";import{M as I}from"./Modal-Bd11sMvs.js";import{I as i}from"./InputLabel-pEsU-RwI.js";import{I as r}from"./InputError-g5a5F_Rk.js";import{T as c}from"./TextInput-icQgI7Sv.js";import{I as k}from"./IconX-aGNBQXHx.js";import"./Dropdown-DU9SP207.js";import"./transition-DossVSiu.js";import"./index-ILaWa9bf.js";function re({auth:h,users:u,locale:j,roles:v}){const D=["SN","First Name","Last Name","Email","Phone","Locale","Actions"],{data:a,setData:t,post:y,processing:P,errors:o,reset:w,delete:K}=X({first_name:"",last_name:"",email:"",phone:"",password:"",password_confirmation:"",local:"",role:""}),[F,x]=p.useState(!1),[U,_]=p.useState(""),[N,C]=p.useState(""),[g,S]=p.useState(""),[W,E]=p.useState(!1),$=s=>{if(s){const l=j.filter(n=>n.id===parseInt(s));if(l.length)return l[0].title}},A=(s,l=0)=>{if(l!==0&&S(l),s==="add")_("Add New"),C("_add");else if(s==="edit"){const n=u.filter(b=>b.id===l);console.log(n),t({...n[0],role:n[0].roles[0]?n[0].roles[0].name:"guest"}),_("Edit"),C("_edit")}x(!0)},T=()=>{x(!1)},z=s=>{s.preventDefault(),N==="_add"?y(route("admin.users.store"),{preserveScroll:!0,onSuccess:()=>{w(),x(!1)}}):N==="_edit"&&y(route("admin.users.update",g),{onSuccess:()=>{w(),x(!1)}})},R=s=>{S(s),E(!0)},f=()=>{E(!1)},B=()=>{g&&G.delete(route("admin.users.delete",g),{onSuccess:()=>{f()}})};return e.jsxs(J,{user:h==null?void 0:h.user,children:[e.jsx(q,{title:"Users"}),e.jsxs("div",{className:"content py-4 font-poppins",children:[e.jsxs("div",{className:"content-header px-6 flex justify-between items-center",children:[e.jsxs("div",{className:"left",children:[e.jsx("h1",{className:"font-semibold text-gray-800 text-3xl",children:"Users"}),e.jsx("div",{className:"pt-2",children:e.jsxs("ul",{className:"flex gap-1 text-gray-600 text-sm",children:[e.jsx("li",{children:e.jsx(M,{href:route("dashboard"),children:"Dashboard"})}),e.jsx("li",{children:"/"}),e.jsx("li",{children:e.jsx(M,{href:route("admin.users.index"),children:"Users"})})]})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"bg-[#f5cd06] shadow-lg text-[#0f0f0f] px-5 py-3 rounded-md font-semibold text-lg font-poppins",onClick:()=>{A("add")},children:"Add New"})})]}),e.jsx("div",{className:"page-content pt-8",children:e.jsx(d.Card,{className:"h-full w-full overflow-scroll rounded-none font-poppins",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left font-poppins",children:[e.jsx("thead",{children:e.jsx("tr",{children:D.map(s=>e.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:e.jsx(d.Typography,{className:"font-semibold text-lg leading-none opacity-70 font-poppins",children:s})},s))})}),e.jsx("tbody",{children:u.map(({id:s,first_name:l,last_name:n,email:b,local:H,phone:O,roles:Q},L)=>{const m=L===u.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:m,children:e.jsx(d.Typography,{className:"font-medium font-poppins",children:`${L+1}`})}),e.jsx("td",{className:m,children:e.jsx(d.Typography,{className:"font-medium font-poppins",children:`${l}`})}),e.jsx("td",{className:m,children:e.jsx(d.Typography,{className:"font-medium font-poppins",children:`${n}`})}),e.jsx("td",{className:m,children:e.jsx(d.Typography,{className:"font-medium font-poppins",children:b})}),e.jsx("td",{className:m,children:e.jsx(d.Typography,{className:"font-medium font-poppins",children:O})}),e.jsx("td",{className:m,children:e.jsx(d.Typography,{className:"font-medium font-poppins",children:$(H)})}),e.jsx("td",{className:m,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-0 text-sm font-medium font-poppins",onClick:()=>{A("edit",s)},children:"Edit"}),e.jsx("button",{className:"text-red-500 px-0 text-sm font-medium font-poppins",onClick:()=>{R(s)},children:"Delete"})]})})]},s)})})]})})})]}),e.jsx(I,{show:F,onClose:T,maxWidth:"2xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsxs("h1",{className:"font-bold text-2xl font-poppins",children:[U," User"]}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(k,{strokeWidth:1.5,size:38,onClick:T})}),e.jsx("div",{className:"modal-content pt-6",children:e.jsxs("form",{onSubmit:z,children:[e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{value:"First Name",className:"mb-1 font-poppins font-semibold"}),e.jsx(c,{id:"first_name",type:"text",name:"first_name",className:"w-full rounded-md font-poppins",placeholder:"First Name...",onChange:s=>t("first_name",s.target.value),value:a.first_name}),e.jsx(r,{message:o.first_name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{value:"Last Name",className:"mb-1 font-poppins font-semibold"}),e.jsx(c,{id:"last_name",type:"text",name:"last_name",className:"w-full rounded-md font-poppins",placeholder:"Last Name...",onChange:s=>t("last_name",s.target.value),value:a.last_name}),e.jsx(r,{message:o.last_name,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{value:"Email Address",className:"mb-1 font-poppins font-semibold"}),e.jsx(c,{id:"email",type:"email",name:"email",className:"w-full rounded-md font-poppins",placeholder:"Email Address...",onChange:s=>t("email",s.target.value),value:a.email}),e.jsx(r,{message:o.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{value:"Phone Number",className:"mb-1 font-poppins font-semibold"}),e.jsx(c,{id:"phone",type:"text",name:"phone",className:"w-full rounded-md font-poppins",placeholder:"Last Name...",onChange:s=>t("phone",s.target.value),value:a.phone}),e.jsx(r,{message:o.phone,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{value:"Password",className:"mb-1 font-poppins font-semibold"}),e.jsx(c,{id:"password",type:"password",name:"password",className:"w-full rounded-md font-poppins",placeholder:"Password...",onChange:s=>t("password",s.target.value),value:a.password?a.password:""}),e.jsx(r,{message:o.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{value:"Confirm Password",className:"mb-1 font-poppins font-semibold"}),e.jsx(c,{id:"password_confirmation",type:"password",name:"password_confirmation",className:"w-full rounded-md font-poppins",placeholder:"Confirm Password...",onChange:s=>t("password_confirmation",s.target.value),value:a.password_confirmation?a.password_confirmation:""}),e.jsx(r,{message:o.password_confirmation,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-field mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{value:"Locale",className:"mb-1 font-poppins font-semibold"}),e.jsxs("select",{className:"w-full border-gray-300 rounded-md font-poppins focus:border-yellow-500 focus:ring-0",value:a.local,onChange:s=>t("local",s.target.value),children:[e.jsx("option",{value:"",children:"Select"}),j.length&&j.map((s,l)=>e.jsx("option",{value:s.id,children:s.title},s.id))]}),e.jsx(r,{message:o.local,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{value:"Role",className:"mb-1 font-poppins font-semibold"}),e.jsxs("select",{className:"w-full border-gray-300 rounded-md font-poppins focus:border-yellow-500 focus:ring-0",value:a.role,onChange:s=>t("role",s.target.value),children:[e.jsx("option",{value:"",children:"Select"}),v.length&&v.map((s,l)=>e.jsx("option",{value:s.name,children:s.name},s.id))]}),e.jsx(r,{message:o.role,className:"mt-2"})]})]})}),e.jsx("input",{type:"hidden",name:"type",value:N,readOnly:!0}),e.jsx("div",{className:"font-item mb-4 text-right",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 font-poppins rounded-sm font-bold",disabled:P,children:"Submit"})})]})})]})}),e.jsx(I,{show:W,onClose:f,maxWidth:"xl",children:e.jsxs("div",{className:"delete-modal px-6 py-8 relative font-poppins",children:[e.jsx("h1",{className:"font-bold text-3xl text-center",children:"Are you sure ?"}),e.jsx("div",{className:"absolute -top-8 -right-8 text-white cursor-pointer",children:e.jsx(k,{strokeWidth:1.5,size:38,onClick:f})}),e.jsxs("div",{className:"flex justify-center gap-2 pt-6",children:[e.jsx("button",{className:"bg-red-500 text-white px-4 py-3 font-semibold rounded",onClick:f,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-3 font-semibold rounded",onClick:B,children:"Confirm"})]})]})})]})}export{re as default};
