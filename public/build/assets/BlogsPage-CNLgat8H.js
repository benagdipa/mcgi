import{r as t,j as e,S as u,x as l,R as b}from"./app-Bu9lvsO6.js";import{G as j}from"./GuestLayout-KAPHnlBS.js";import{D as N}from"./datetime-DcQSltNB.js";import{_ as o}from"./index-CitFD0Am.js";import"./Dropdown-C61aI2y0.js";import"./transition-aZQd4R9S.js";import"./index-vocjaHrB.js";function S({auth:i}){const[r,m]=t.useState([]),[x,g]=t.useState(null),[n,d]=t.useState(!1),c=async s=>{d(!0);try{const a=await axios.get("/blogs/getAllPost");m(f=>[...f,...a.data.posts]),g(a.data.next_page_url)}catch(a){console.error("Error fetching posts:",a)}finally{d(!1)}};t.useEffect(()=>{c()},[]);const h=()=>{x&&c()};return e.jsxs(j,{user:i==null?void 0:i.user,children:[e.jsxs(u,{children:[e.jsx("title",{children:"News, Blogs and Features"}),e.jsx("meta",{name:"title",content:"News, Blogs and Features"}),e.jsx("meta",{name:"keywords",content:"News, Blogs and Features"}),e.jsx("meta",{name:"descriptions",content:"Be informed and stay updated with the latest news and features from and about the Members Church of God International."})]}),e.jsxs("div",{className:"contact-page blog-page",children:[e.jsx("div",{className:"page-header pt-40 lg:pt-80 pb-28 ",children:e.jsx("div",{className:"w-full",children:e.jsx(o,{animation:"slideLeftToRight",children:e.jsxs("div",{className:"lg:max-w-screen-xl w-11/12 mx-auto",children:[e.jsx("h1",{className:"font-bold text-7xl text-white",children:"Articles"}),e.jsx("div",{className:"breadcrumbs pt-5",children:e.jsxs("div",{className:"flex gap-4 font-semibold uppercase font-dmsans text-white",children:[e.jsx("div",{className:"item",children:e.jsx(l,{href:route("home"),className:"breadcrumb-link",children:"HOME"})}),e.jsx("div",{className:"divider",children:" | "}),e.jsx("div",{className:"item",children:e.jsx(l,{href:route("blogs.index"),className:"breadcrumb-link text-gray-200",children:"Articles"})})]})})]})})})}),e.jsx(e.Fragment,{children:e.jsx("div",{className:"lg:max-w-screen-xl w-11/12 mx-auto",children:e.jsx(o,{animation:"fadeIn",children:e.jsxs("div",{className:"blog-items py-16 lg:py-32",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:(r==null?void 0:r.length)>0&&r.map(s=>{const a=N.fromISO(s==null?void 0:s.created_at,{zone:"utc"});return e.jsx(b.Fragment,{children:e.jsxs("div",{className:"blog-item font-dmsans",children:[e.jsx(l,{href:route("blogs.show",`${s.slug}`),className:"font-semibold border-b-2 border-black pb-1",children:e.jsx("div",{className:"image",children:e.jsx("img",{src:s==null?void 0:s.featured_image,className:"h-[250px] object-cover rounded-3xl w-full"})})}),e.jsxs("div",{className:"content pt-3",children:[e.jsx("div",{className:"flex gap-4",children:e.jsx("div",{className:"date text-[#9f9f9f] font-medium",children:a.toFormat("LLLL dd, yyyy")})}),e.jsx("div",{className:"title pt-1 pb-3",children:e.jsx(l,{href:route("blogs.show",`${s.slug}`),className:"font-semibold border-b-2 border-black pb-1",children:e.jsx("h4",{className:"text-[#0f0f0f] font-bold text-2xl capitalize",children:s==null?void 0:s.title})})}),e.jsx("div",{class:"description",dangerouslySetInnerHTML:{__html:s!=null&&s.content?s.content.replace(/<img.*?>/g,"").replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").split(" ").slice(0,20).join(" "):""}}),e.jsx("div",{className:"link",children:e.jsx(l,{href:route("blogs.show",`${s.slug}`),className:"font-semibold border-b-2 border-black pb-1",children:"Read More"})})]})]})},s==null?void 0:s.id)})}),n&&e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"../images/loading-effect.gif",alt:"Loading........",className:"spinner text-center"})}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("button",{onClick:h,disabled:n,className:`px-6 py-2 mt-10 text-white font-semibold rounded-md shadow-lg transition-all duration-300 focus:outline-none ${n?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"Load More"})})]})})})})]})]})}export{S as default};
