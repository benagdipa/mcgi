import{W as C,r as m,j as e,a as S}from"./app-Dery4aoQ.js";import{T as f,I as r}from"./TextInput-DwWTebPZ.js";import{I as i}from"./InputLabel-CQbQBgR7.js";import{A as y}from"./AuthenticatedLayout-Bo0O5ldB.js";import{E as _}from"./Editor-BMw31WsB.js";import{D as x}from"./react-datepicker-Dqq_9T6q.js";import"./Dropdown-DMRiJ_Ud.js";import"./transition-DmhJB7Ot.js";function U({auth:o}){const{data:a,setData:t,post:h,processing:E,errors:l,reset:F}=C({title:"",slug:"",start_date:new Date,end_date:new Date,featureImage:null,content:"",status:""}),c=m.useRef(null),[p,g]=m.useState(""),d=m.useRef(null);m.useEffect(()=>{const n=(a==null?void 0:a.title).replace(/\s+/g,"-").toLowerCase();t("slug",n)},[a.title]);const v=s=>{d.current.click()},j=s=>{const n=URL.createObjectURL(s.target.files[0]);t("featureImage",s.target.files[0]),g(n)},N=s=>{s.preventDefault(),h(route("admin.events.store"))};function u(s){var n=s.getFullYear(),b=("0"+(s.getMonth()+1)).slice(-2),w=("0"+s.getDate()).slice(-2),k=("0"+s.getHours()).slice(-2),D=("0"+s.getMinutes()).slice(-2),I=("0"+s.getSeconds()).slice(-2);return n+"-"+b+"-"+w+" "+k+":"+D+":"+I}return e.jsxs(y,{user:o==null?void 0:o.user,children:[e.jsx(S,{title:"Add New Events"}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"p-6 flex justify-between",children:e.jsx("h1",{className:"font-bold font-xl",children:"Add New Event"})}),e.jsx("div",{className:"form-wrapper px-6",children:e.jsx("div",{className:"max-w-screen-2xl",children:e.jsx("form",{onSubmit:N,children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"w-9/12",children:[e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(i,{value:"Title",className:"mb-1 font-dmsans"}),e.jsx(f,{name:"title",value:a.title,onChange:s=>t("title",s.target.value),className:"w-full rounded-sm font-dmsans placeholder:font-dmsans"}),e.jsx(r,{message:l.title,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(i,{value:"Slug",className:"mb-1 font-dmsans"}),e.jsx(f,{name:"slug",value:a.slug,onChange:s=>t("slug",s.target.value),className:"w-full rounded-sm font-dmsans placeholder:font-dmsans"}),e.jsx(r,{message:l.slug,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(i,{value:"Start Date",className:"mb-1 font-dmsans"}),e.jsx(x,{selected:new Date(a.start_date),onChange:s=>t("start_date",u(s)),showTimeSelect:!0,dateFormat:"Pp",className:"w-full rounded-sm font-dmsans placeholder:font-dmsans"}),e.jsx(r,{message:l.start_date,className:"mt-2"})]}),e.jsxs("div",{className:"form-item mb-4",children:[e.jsx(i,{value:"End Date",className:"mb-1 font-dmsans"}),e.jsx(x,{selected:new Date(a.end_date),onChange:s=>t("end_date",u(s)),showTimeSelect:!0,dateFormat:"Pp",className:"w-full rounded-sm font-dmsans placeholder:font-dmsans"}),e.jsx(r,{message:l.end_date,className:"mt-2"})]}),e.jsxs("div",{className:"form-item",children:[e.jsx(i,{value:"Content",className:"mb-1 font-dmsans"}),e.jsxs("div",{className:"custom-ckeditor",style:{height:"400px"},children:[e.jsx(_,{apiKey:"h9mpgdcvlxaa94b8rwqpagapahot2x6w7urfs0dtyswd2qtj",onInit:(s,n)=>{c.current=n},onChange:()=>t("content",c.current.getContent()),initialValue:a.content,init:{height:600,menubar:!1,plugins:["a11ychecker","advlist","advcode","advtable","autolink","checklist","export","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","powerpaste","fullscreen","formatpainter","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | casechange blocks | bold italic backcolor | image | alignleft aligncenter alignright alignjustify | bullist numlist checklist outdent indent | removeformat | a11ycheck code table help",images_upload_url:"upload.php",automatic_uploads:!1}}),e.jsx(r,{message:l.content,className:"mt-2"})]})]})]}),e.jsx("div",{className:"w-3/12",children:e.jsxs("div",{className:"border rounded p-4",children:[e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"status",children:[e.jsx("div",{className:"status text-xl font-bold mb-2 font-dmsans",children:"Status"}),e.jsxs("select",{name:"status",className:"w-full",value:a.status,onChange:s=>t("status",s.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"publish",children:"Publish"})]}),e.jsx(r,{message:l.status,className:"mt-2"})]})}),e.jsx("div",{className:"form-item mb-4",children:e.jsxs("div",{className:"featured-image",children:[e.jsx("p",{className:"text-xl font-bold mb-3 font-dmsans",children:"Featured Image"}),e.jsxs("div",{className:"categories-items border p-4 rounded",children:[e.jsx("img",{src:p}),e.jsx("input",{type:"file",name:"featureImage",hidden:!0,onChange:j,ref:d,value:""}),e.jsx("a",{className:"bg-transparent cursor-pointer",onClick:v,children:"Set Featured Image"}),e.jsx(r,{message:l.featureImage,className:"mt-2"})]})]})}),e.jsx("div",{className:"form-item",children:e.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 font-bold rounded font-dmsans",children:"Submit"})})]})})]})})})})]})]})}export{U as default};
